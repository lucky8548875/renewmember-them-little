{"remainingRequest":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/babel-loader/lib/index.js!/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/src/views/child-views/admin-bookings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/src/views/child-views/admin-bookings.vue","mtime":1547126669496},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Modal from \"@/components/reusable/modal.vue\";\nimport Switcher from \"@/components/reusable/switcher.vue\";\nexport default {\n  components: {\n    modal: Modal,\n    switcher: Switcher\n  },\n\n  mounted() {\n    this.$store.dispatch(\"getAllBookings\");\n  },\n\n  data() {\n    return {\n      active: \"all\"\n    };\n  },\n\n  computed: {\n    filteredBookings() {\n      var bookings = this.$store.getters.allBookings;\n\n      if (this.active == \"all\") {\n        return bookings;\n      } else if (this.active == \"paid\") {\n        return bookings.filter(booking => booking.booking_status == \"AWAITING_CONFIRMATION\");\n      } else if (this.active == \"overdue\") {\n        return bookings.filter(function (booking) {\n          if (booking.booking_status != \"AWAITING_PAYMENT\") {\n            return false;\n          }\n\n          var created = new Date(booking.booking_created);\n          var now = new Date();\n          var milihours = now - created;\n          var hour = milihours / 3.6e6;\n          return hour > 24;\n        });\n      }\n    }\n\n  }\n};",{"version":3,"sources":["admin-bookings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA,OAAA,KAAA,MAAA,iCAAA;AACA,OAAA,QAAA,MAAA,oCAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA,KADA;AAEA,IAAA,QAAA,EAAA;AAFA,GADA;;AAKA,EAAA,OAAA,GAAA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,gBAAA;AACA,GAPA;;AAQA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,MAAA,EAAA;AADA,KAAA;AAGA,GAZA;;AAaA,EAAA,QAAA,EAAA;AACA,IAAA,gBAAA,GAAA;AACA,UAAA,QAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,WAAA;;AACA,UAAA,KAAA,MAAA,IAAA,KAAA,EAAA;AACA,eAAA,QAAA;AACA,OAFA,MAEA,IAAA,KAAA,MAAA,IAAA,MAAA,EAAA;AACA,eAAA,QAAA,CAAA,MAAA,CACA,OAAA,IAAA,OAAA,CAAA,cAAA,IAAA,uBADA,CAAA;AAGA,OAJA,MAIA,IAAA,KAAA,MAAA,IAAA,SAAA,EAAA;AACA,eAAA,QAAA,CAAA,MAAA,CAAA,UAAA,OAAA,EAAA;AACA,cAAA,OAAA,CAAA,cAAA,IAAA,kBAAA,EAAA;AACA,mBAAA,KAAA;AACA;;AACA,cAAA,OAAA,GAAA,IAAA,IAAA,CAAA,OAAA,CAAA,eAAA,CAAA;AACA,cAAA,GAAA,GAAA,IAAA,IAAA,EAAA;AACA,cAAA,SAAA,GAAA,GAAA,GAAA,OAAA;AACA,cAAA,IAAA,GAAA,SAAA,GAAA,KAAA;AACA,iBAAA,IAAA,GAAA,EAAA;AACA,SATA,CAAA;AAUA;AACA;;AArBA;AAbA,CAAA","sourcesContent":["<template lang=\"pug\">\n  div.padding\n    div.flex.wide.justify-space-between\n      //- :Left\n      div: h2 Bookings\n\n      //- Right\n      div\n        a.padding(@click=\"active='all'\" :class=\"{'active':active=='all'}\") Bookings\n        a.padding(@click=\"active='paid'\" :class=\"{'active':active=='paid'}\") Paid\n        a.padding(@click=\"active='overdue'\" :class=\"{'active':active=='overdue'}\") Overdue\n    \n    //- Contents\n    table.wide\n      tr(v-for=\"booking in filteredBookings\")\n        td\n          h3 {{booking.account_name}}\n          h5 {{booking.booking_status}}\n        td\n          button.float-right(@click='$refs.booking.show(booking)') View\n\n    modal(ref=\"booking\" inline-template)\n      div\n        transition(name='fade')\n          #backdrop.fixed-fill(@click=\"toggle\" v-show=\"visible\")\n        transition(name='fade')\n          #modal(v-show=\"visible\").card.fixed-center.flex.column.five-large.seven-medium.twelve-small.max-high\n            div.flex.justify-space-between.align-center.wide\n              h2.padding Booking Details\n              a.padding(@click=\"toggle\"): fa(icon='times')\n            hr\n            div.padding.overflow-auto\n              table.wide\n                tr\n                  td Booked on\n                  td {{params.booking_created}}\n                tr\n                  td Schedule\n                  td {{params.booking_date}}, {{params.booking_time}}\n                tr\n                  td Status\n                  td {{params.booking_status}}\n                tr\n                  td Deposit Slip\n                  td: img(:src=\"params.booking_deposit_slip\")\n              div.flex.wide\n                button.flex-growBooking(@click=\"$store.dispatch('cancelBooking',params.booking_id); visible=false\" v-if=\"params.booking_status!='COMPLETED'\") Cancel Booking\n                button.flex-grow.margin-left-small(v-if=\"params.booking_status!='COMPLETED'\") Reschedule\n                button.flex-grow.margin-left-small.primary(@click=\"$store.dispatch('approveBooking',params.booking_id); visible=false\" v-if=\"params.booking_status=='AWAITING_CONFIRMATION' || params.booking_status=='AWAITING_PAYMENT'\") Approve Booking\n                button.flex-grow.margin-left-small.primary(v-if=\"params.booking_status=='BOOKED'\" @click=\"$store.dispatch('markAsCompleted',params.booking_id); visible=false\") Mark as Done\n              form.margin-top\n                  fieldset\n                    details\n                      summary Package Details\n                      br\n                      table.wide\n                        tr\n                          td Package Name\n                          td Fake Package 1\n                        tr\n                          td Package Description\n                          td Fake Description\n                        tr\n                          td Duration\n                          td 30 fakes\n                        tr\n                          td Addons\n                          td\n                        tr\n                          td Themes\n                          td\n                        tr\n                          td Total Price\n                          td Php 00.00\n      \n</template>\n\n<script>\nimport Modal from \"@/components/reusable/modal.vue\";\nimport Switcher from \"@/components/reusable/switcher.vue\";\nexport default {\n\tcomponents: {\n\t\tmodal: Modal,\n\t\tswitcher: Switcher\n\t},\n\tmounted() {\n\t\tthis.$store.dispatch(\"getAllBookings\");\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tactive: \"all\"\n\t\t};\n\t},\n\tcomputed: {\n\t\tfilteredBookings() {\n\t\t\tvar bookings = this.$store.getters.allBookings;\n\t\t\tif (this.active == \"all\") {\n\t\t\t\treturn bookings;\n\t\t\t} else if (this.active == \"paid\") {\n\t\t\t\treturn bookings.filter(\n\t\t\t\t\tbooking => booking.booking_status == \"AWAITING_CONFIRMATION\"\n\t\t\t\t);\n\t\t\t} else if (this.active == \"overdue\") {\n\t\t\t\treturn bookings.filter(function(booking) {\n\t\t\t\t\tif (booking.booking_status != \"AWAITING_PAYMENT\") {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tvar created = new Date(booking.booking_created);\n\t\t\t\t\tvar now = new Date();\n\t\t\t\t\tvar milihours = now - created;\n\t\t\t\t\tvar hour = milihours / 3.6e6;\n\t\t\t\t\treturn hour > 24;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n};\n</script>\n"],"sourceRoot":"src/views/child-views"}]}