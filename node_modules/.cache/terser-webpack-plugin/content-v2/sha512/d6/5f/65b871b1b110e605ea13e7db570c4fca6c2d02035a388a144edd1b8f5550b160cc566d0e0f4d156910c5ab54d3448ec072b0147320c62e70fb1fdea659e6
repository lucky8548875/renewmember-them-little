{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-6b2483b5\"],{\"19b0\":function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"padding\"},[a(\"div\",{staticClass:\"flex wide justify-space-between\"},[t._m(0),a(\"div\",[a(\"a\",{staticClass:\"padding\",class:{active:\"all\"==t.active},on:{click:function(e){t.active=\"all\"}}},[t._v(\"All\")]),a(\"a\",{staticClass:\"padding\",class:{active:\"for_pickup\"==t.active},on:{click:function(e){t.active=\"for_pickup\"}}},[t._v(\"For Pickup\")]),a(\"a\",{staticClass:\"padding\",class:{active:\"released\"==t.active},on:{click:function(e){t.active=\"released\"}}},[t._v(\"Released\")])])]),a(\"table\",{staticClass:\"wide\"},t._l(t.filteredOrders,function(e){return a(\"tr\",[a(\"td\",[a(\"h3\",[t._v(\"Order # \"+t._s(e.order_id)+\" (\"+t._s(e.order_status)+\")\")]),a(\"span\",[t._v(\"by \"+t._s(t.$store.getters.allUsers.find(function(t){return t.account_id==e.account_id}).account_name))])]),a(\"td\",[a(\"button\",{staticClass:\"float-right\",on:{click:function(a){t.$refs.order.show(e)}}},[t._v(\"View\")])])])}),0),a(\"modal\",{ref:\"order\",inlineTemplate:{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"transition\",{attrs:{name:\"fade\"}},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.visible,expression:\"visible\"}],staticClass:\"fixed-fill\",attrs:{id:\"backdrop\"},on:{click:t.toggle}})]),a(\"transition\",{attrs:{name:\"fade\"}},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.visible,expression:\"visible\"}],staticClass:\"card fixed-center flex column five-large seven-medium twelve-small max-high\",attrs:{id:\"modal\"}},[a(\"div\",{staticClass:\"flex justify-space-between align-center wide\"},[a(\"h2\",{staticClass:\"padding\"},[t._v(\"Order Details\")]),a(\"a\",{staticClass:\"padding\",on:{click:t.toggle}},[a(\"fa\",{attrs:{icon:\"times\"}})],1)]),a(\"hr\"),a(\"div\",{staticClass:\"padding overflow-auto\"},[a(\"table\",{staticClass:\"wide\"},[a(\"thead\",[a(\"tr\",[a(\"th\",[t._v(\"Print Size\")]),a(\"th\",[t._v(\"Filename\")]),a(\"th\",[t._v(\"Price\")])])]),a(\"tbody\",t._l(JSON.parse(t.params.order_list),function(e){return a(\"tr\",[a(\"td\",[t._v(t._s(e.addon.addon_description))]),a(\"td\",[t._v(t._s(e.filename))]),a(\"td\",[t._v(t._s(e.addon.addon_price))])])}),0)]),a(\"div\",{staticClass:\"flex wide\"},[\"PROCESSING\"==t.params.order_status?a(\"button\",{staticClass:\"flex-grow\",on:{click:function(e){t.$store.dispatch(\"cancelOrder\",t.params.order_id)}}},[t._v(\"Cancel Request\")]):t._e(),\"PROCESSING\"==t.params.order_status?a(\"button\",{staticClass:\"flex-grow margin-left-small\",on:{click:function(e){t.$store.dispatch(\"notifyForPickup\",{order_id:t.params.order_id,account_id:t.params.account_id}),t.visible=!1}}},[t._v(\"For Pickup\")]):t._e(),\"READY FOR PICKUP\"==t.params.order_status?a(\"button\",{staticClass:\"flex-grow margin-left-small\",on:{click:function(e){t.$store.dispatch(\"markAsReleased\",{order_id:t.params.order_id,account_id:t.params.account_id}),t.visible=!1}}},[t._v(\"Mark as Released\")]):t._e()])])])])],1)},staticRenderFns:[]}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"h2\",[t._v(\"Orders\")])])}],r=a(\"2b18\"),n=(a(\"f9d7\"),{mounted:function(){this.$store.dispatch(\"getAllOrders\"),this.$store.dispatch(\"getAllUsers\")},components:{modal:r[\"a\"]},data:function(){return{active:\"all\"}},computed:{filteredOrders:function(){var t=this.$store.getters.allOrders;return\"all\"==this.active?t:\"for_pickup\"==this.active?t.filter(function(t){return\"READY FOR PICKUP\"==t.order_status}):\"released\"==this.active?t.filter(function(t){if(\"RELEASED\"!=t.order_status)return!1;var e=new Date(t.order_created),a=new Date,i=a-e,s=i/36e5;return s>24}):void 0}}}),l=n,c=a(\"2877\"),o=Object(c[\"a\"])(l,i,s,!1,null,null,null);o.options.__file=\"admin-orders.vue\";e[\"default\"]=o.exports},\"1f3e\":function(t,e,a){\"use strict\";var i=a(\"4bfa\"),s=a.n(i);s.a},\"2b18\":function(t,e,a){\"use strict\";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"flex column\"},[\"\"!=t.imageUrl&&0==t.uploading?a(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:t.imageUrl}}):t._e(),\"\"==t.imageUrl&&\"\"!=t.url?a(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:t.url}}):t._e(),1==t.uploading?a(\"span\",{staticClass:\"flex align-center\"},[a(\"fa\",{attrs:{icon:\"sync-alt\",spin:\"\"}}),a(\"span\",{staticClass:\"margin-left-small\"},[t._v(\"Please wait\")])],1):t._e(),a(\"input\",{ref:\"fileupload\",staticClass:\"wide\",attrs:{type:\"file\",accept:\"image/x-png,image/gif,image/jpeg\",required:t.required},on:{change:function(e){t.uploadFile()}}})])},s=[],r=a(\"bc3a\"),n=a.n(r),l={props:{url:{type:String,default:\"\"},required:{type:Boolean,default:!1}},data:function(){return{imageUrl:\"\",file:null,uploading:!1}},methods:{uploadFile:function(){var t=this;if(this.uploading=!0,this.file=this.$refs.fileupload.files[0],null!=this.file){var e=new FormData;e.append(\"image\",this.file),n.a.post(\"/_system/php/functions/ftpupload.php\",e,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(e){console.log(e),e.data.success?(t.imageUrl=e.data.data,t.uploading=!1):console.log(\"Error in File Upload\")}).catch(function(t){console.error(t)})}}}},c=l,o=a(\"2877\"),d=Object(o[\"a\"])(c,i,s,!1,null,null,null);d.options.__file=\"fileupload.vue\";var u,f,p=d.exports,v={components:{fileupload:p},data:function(){return{params:{},visible:!1}},methods:{toggle:function(){this.visible=!this.visible},show:function(t){this.visible=!0,this.params=t}}},_=v,m=(a(\"7200\"),Object(o[\"a\"])(_,u,f,!1,null,\"e4d62aa4\",null));m.options.__file=\"modal.vue\";e[\"a\"]=m.exports},\"4bfa\":function(t,e,a){},7200:function(t,e,a){\"use strict\";var i=a(\"ff30\"),s=a.n(i);s.a},f9d7:function(t,e,a){\"use strict\";var i,s,r={data:function(){return{active:\"\"}}},n=r,l=(a(\"1f3e\"),a(\"2877\")),c=Object(l[\"a\"])(n,i,s,!1,null,\"7c25a286\",null);c.options.__file=\"switcher.vue\";e[\"a\"]=c.exports},ff30:function(t,e,a){}}]);","extractedComments":[]}