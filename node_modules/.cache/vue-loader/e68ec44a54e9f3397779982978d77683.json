{"remainingRequest":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/src/views/child-views/admin-calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/src/views/child-views/admin-calendar.vue","mtime":1551782252897},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport DayCalendar from '@/components/day-calendar.vue'\nimport Switcher from '@/components/reusable/switcher.vue'\nimport axios from 'axios'\nimport Modal from \"@/components/reusable/modal.vue\";\n\nexport default {\n  mounted(){\n    this.loadBookingsToday();\n    this.$store.dispatch('loadWeekBookings')\n    this.$store.dispatch('loadThemes')\n  },\n  components: {\n    'day-calendar': DayCalendar,\n    'switcher': Switcher,\n    modal: Modal,\n  },\n  data() {\n    return {\n      activecalendar: 'day',\n      date: new Date().getFullYear() + '-' + (((new Date().getMonth()+1)<10 )? '0':'') +(new Date().getMonth()+1) + '-' +(((new Date().getDate()+1)<10 )? '0':'')+ new Date().getDate(),\n      bookingsToday: [],\n    }\n  },\n  watch: {\n    date(){\n      this.loadBookingsToday();\n    }\n  },\n  methods: {\n    loadBookingsToday(){\n      console.log('called loadBookingsToday')\n      axios.get(`/_system/php/api/booking/getByDate.php?date=${this.date}`)\n      .then(response => {\n        if(response.data.success == true){\n          console.log(response.data.data)\n          this.bookingsToday = response.data.data\n        }\n      })\n      .catch(error =>{\n        console.log(error)\n      })\n    },\n    parseJson(string){\n      try {\n        return JSON.parse(string.replace('\\\\n',''))\n      }\n      catch {\n        console.log(\"attempt to parse: \" + string.replace('/\\\\r\\\\n/g',''))\n        return {}\n      }\n    }\n  }\n}\n  \n",{"version":3,"sources":["admin-calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin-calendar.vue","sourceRoot":"src/views/child-views","sourcesContent":["<template lang=\"pug\">\n  div.padding-large\n    div.flex.wide.justify-space-between\n      //- :Left\n      div: input(type=\"date\" v-model=\"date\" v-if=\"activecalendar=='day'\")\n\n      //- Right\n      div\n        a.padding-small(@click=\"activecalendar='day'\" :class=\"{'active':activecalendar=='day'}\") Day\n        a.padding-small(@click=\"activecalendar='week'\" :class=\"{'active':activecalendar=='week'}\") Week\n  \n    //- Contents\n    \n    day-calendar(v-if=\"activecalendar=='day'\")\n      .booking.padding(v-for=\"booking in bookingsToday\" :style=\"{'grid-row-start': booking.start,'grid-row-end': booking.end}\" @click=\"$refs.booking.show(booking)\")\n        h2 {{booking.booking.account_name}}\n        h4 {{parseJson(booking.booking.package).package_name}}\n        h4 Status: {{booking.booking.booking_status}}\n\n    div(v-if=\"activecalendar=='week'\")\n      div(v-html=`$store.getters.weekBookings.replace(new RegExp('\"','g'),'')`)\n\n    modal(ref=\"booking\" inline-template)\n      div\n        transition(name='fade')\n          #backdrop.fixed-fill(@click=\"toggle\" v-show=\"visible\")\n        transition(name='fade')\n          #modal(v-show=\"visible\").card.fixed-center.flex.column.five-large.seven-medium.twelve-small.max-high\n            div.flex.justify-space-between.align-center.wide\n              h2.padding Booking Details\n              a.padding(@click=\"toggle\"): fa(icon='times')\n            hr\n            div.padding.overflow-auto\n              h3(style=\"color: #ccc\") booking# {{params.booking.booking_id}} | {{params.booking.booking_status}}\n              h3(style=\"margin: 1rem 0rem\")\n                fa(icon=\"user\")\n                span(style=\"margin-left: 0.5rem\") {{params.booking.account_name}}\n              fieldset(style=\"padding: 0 1rem\")\n                legend.text-center(style=\"padding: 0 1rem\") Booking Schedule\n                table.wide\n                  tr\n                    td Date:\n                    td {{params.booking.booking_date}}\n                  tr\n                    td Time:\n                    td {{params.booking.booking_time}}\n              br\n              fieldset(style=\"padding: 0 1rem\")\n                legend.text-center(style=\"padding: 0 1rem\") Package Details\n                table.wide\n                  tr\n                    td Package Name\n                    td {{ $parent.parseJson(params.booking.package).package_name }}\n                  tr\n                    td Package Description\n                    td(v-html=\"$parent.parseJson(params.booking.package).package_description\")\n              br\n              fieldset(style=\"padding: 0 1rem\")\n                legend.text-center(style=\"padding: 0 1rem\") Themes\n                .grid.grid-auto\n                  img(v-for=\"themeid in $parent.parseJson(params.booking.booking_themes)\" :src=\"$store.getters.themes.find(theme => theme.theme_id == themeid).theme_image\" style=\"width: 100%; border-radius: 0.5rem\")\n</template>\n\n<script>\nimport DayCalendar from '@/components/day-calendar.vue'\nimport Switcher from '@/components/reusable/switcher.vue'\nimport axios from 'axios'\nimport Modal from \"@/components/reusable/modal.vue\";\n\nexport default {\n  mounted(){\n    this.loadBookingsToday();\n    this.$store.dispatch('loadWeekBookings')\n    this.$store.dispatch('loadThemes')\n  },\n  components: {\n    'day-calendar': DayCalendar,\n    'switcher': Switcher,\n    modal: Modal,\n  },\n  data() {\n    return {\n      activecalendar: 'day',\n      date: new Date().getFullYear() + '-' + (((new Date().getMonth()+1)<10 )? '0':'') +(new Date().getMonth()+1) + '-' +(((new Date().getDate()+1)<10 )? '0':'')+ new Date().getDate(),\n      bookingsToday: [],\n    }\n  },\n  watch: {\n    date(){\n      this.loadBookingsToday();\n    }\n  },\n  methods: {\n    loadBookingsToday(){\n      console.log('called loadBookingsToday')\n      axios.get(`/_system/php/api/booking/getByDate.php?date=${this.date}`)\n      .then(response => {\n        if(response.data.success == true){\n          console.log(response.data.data)\n          this.bookingsToday = response.data.data\n        }\n      })\n      .catch(error =>{\n        console.log(error)\n      })\n    },\n    parseJson(string){\n      try {\n        return JSON.parse(string.replace('\\\\n',''))\n      }\n      catch {\n        console.log(\"attempt to parse: \" + string.replace('/\\\\r\\\\n/g',''))\n        return {}\n      }\n    }\n  }\n}\n  \n</script>\n\n"]}]}