{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-20b0bf2c\"],{\"2b18\":function(e,t,a){\"use strict\";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"flex column\"},[\"\"!=e.imageUrl&&0==e.uploading?a(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:e.imageUrl}}):e._e(),\"\"==e.imageUrl&&\"\"!=e.url?a(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:e.url}}):e._e(),1==e.uploading?a(\"span\",{staticClass:\"flex align-center\"},[a(\"fa\",{attrs:{icon:\"sync-alt\",spin:\"\"}}),a(\"span\",{staticClass:\"margin-left-small\"},[e._v(\"Please wait\")])],1):e._e(),a(\"input\",{ref:\"fileupload\",staticClass:\"wide\",attrs:{type:\"file\",accept:\"image/x-png,image/gif,image/jpeg\",required:e.required},on:{change:function(t){e.uploadFile()}}})])},s=[],l=a(\"bc3a\"),n=a.n(l),r={props:{url:{type:String,default:\"\"},required:{type:Boolean,default:!1}},data:function(){return{imageUrl:\"\",file:null,uploading:!1}},methods:{uploadFile:function(){var e=this;if(this.uploading=!0,this.file=this.$refs.fileupload.files[0],null!=this.file){var t=new FormData;t.append(\"image\",this.file),n.a.post(\"/_system/php/functions/ftpupload.php\",t,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(t){console.log(t),t.data.success?(e.imageUrl=t.data.data,e.uploading=!1):console.log(\"Error in File Upload\")}).catch(function(e){console.error(e)})}}}},o=r,d=a(\"2877\"),c=Object(d[\"a\"])(o,i,s,!1,null,null,null);c.options.__file=\"fileupload.vue\";var m,p,u=c.exports,h={components:{fileupload:u},data:function(){return{params:{},visible:!1}},methods:{toggle:function(){this.visible=!this.visible},show:function(e){this.visible=!0,this.params=e}}},f=h,v=(a(\"7200\"),Object(d[\"a\"])(f,m,p,!1,null,\"e4d62aa4\",null));v.options.__file=\"modal.vue\";t[\"a\"]=v.exports},7200:function(e,t,a){\"use strict\";var i=a(\"ff30\"),s=a.n(i);s.a},7307:function(e,t,a){\"use strict\";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"padding-large\",staticStyle:{\"padding-top\":\"7rem\"}},[a(\"div\",{staticClass:\"flex wide justify-space-between\"},[e._m(0),a(\"div\",[a(\"button\",{on:{click:function(t){e.$refs.newtheme.show()}}},[e._v(\"Add Theme\")])])]),a(\"div\",{staticClass:\"grid grid-2-small grid-4-medium grid-5-large\"},e._l(e.$store.getters.themes,function(t){return a(\"div\",{staticClass:\"wide center-child\",staticStyle:{height:\"10rem\"}},[a(\"div\",{on:{click:function(a){e.$refs.edittheme.show(t)}}},[a(\"img\",{staticStyle:{width:\"100%\"},attrs:{src:t.theme_image}})])])}),0),a(\"modal\",{ref:\"newtheme\",inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"transition\",{attrs:{name:\"fade\"}},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.visible,expression:\"visible\"}],staticClass:\"fixed-fill\",attrs:{id:\"backdrop\"},on:{click:e.toggle}})]),a(\"transition\",{attrs:{name:\"fade\"}},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.visible,expression:\"visible\"}],staticClass:\"card fixed-center flex column five-large seven-medium twelve-small max-high\",attrs:{id:\"modal\"}},[a(\"div\",{staticClass:\"flex justify-space-between align-center wide\"},[a(\"h2\",{staticClass:\"padding\"},[e._v(\"New Theme\")]),a(\"a\",{staticClass:\"padding\",on:{click:e.toggle}},[a(\"fa\",{attrs:{icon:\"times\"}})],1)]),a(\"hr\"),a(\"div\",{staticClass:\"padding overflow-auto\"},[a(\"form\",{staticClass:\"flex column\",attrs:{enctype:\"multipart/form-data\"},on:{submit:function(t){t.preventDefault(),e.$parent.prepareAddTheme(t),e.visible=!1}}},[a(\"label\",[e._v(\"Theme Description\")]),a(\"input\",{attrs:{type:\"text\",name:\"theme_description\",value:\"\"}}),a(\"label\",[e._v(\"Image\")]),a(\"fileupload\",{ref:\"fileupload\",attrs:{url:\"\"}}),a(\"label\",[a(\"input\",{attrs:{type:\"checkbox\",name:\"theme_active\",value:\"\"}}),a(\"span\",[e._v(\"Active\")])]),a(\"div\",[a(\"button\",{on:{click:function(t){t.preventDefault(),e.visible=!1}}},[e._v(\"Cancel\")]),a(\"button\",[e._v(\"Create Theme\")])])],1)])])])],1)},staticRenderFns:[]}}),a(\"modal\",{ref:\"edittheme\",inlineTemplate:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"transition\",{attrs:{name:\"fade\"}},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.visible,expression:\"visible\"}],staticClass:\"fixed-fill\",attrs:{id:\"backdrop\"},on:{click:e.toggle}})]),a(\"transition\",{attrs:{name:\"fade\"}},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.visible,expression:\"visible\"}],staticClass:\"card fixed-center flex column five-large seven-medium twelve-small max-high\",attrs:{id:\"modal\"}},[a(\"div\",{staticClass:\"flex justify-space-between align-center wide\"},[a(\"h2\",{staticClass:\"padding\"},[e._v(\"Edit Theme\")]),a(\"a\",{staticClass:\"padding\",on:{click:e.toggle}},[a(\"fa\",{attrs:{icon:\"times\"}})],1)]),a(\"hr\"),a(\"div\",{staticClass:\"padding overflow-auto\"},[a(\"form\",{staticClass:\"flex column\",attrs:{enctype:\"multipart/form-data\"},on:{submit:function(t){t.preventDefault(),e.$parent.prepareEditTheme(t),e.visible=!1}}},[a(\"input\",{attrs:{type:\"hidden\",name:\"theme_id\"},domProps:{value:e.params.theme_id}}),a(\"label\",[e._v(\"Theme Description\")]),a(\"input\",{attrs:{type:\"text\",name:\"theme_description\"},domProps:{value:e.params.theme_description}}),a(\"label\",[e._v(\"Image\")]),a(\"fileupload\",{key:e.params.theme_id,ref:\"fileupload\",attrs:{url:e.params.theme_image}}),a(\"label\",{staticClass:\"padding-y\"},[a(\"input\",{staticClass:\"margin-right-small\",attrs:{type:\"checkbox\",name:\"theme_active\"},domProps:{checked:e.params.theme_active}}),a(\"span\",[e._v(\"Active\")])]),a(\"div\",[a(\"button\",{on:{click:function(t){t.preventDefault(),e.$store.dispatch(\"deleteTheme\",e.params.theme_id),e.visible=!1}}},[e._v(\"Delete\")]),a(\"button\",[e._v(\"Update theme\")])])],1)])])])],1)},staticRenderFns:[]}})],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"h2\",[e._v(\"Themes\")])])}],l=a(\"2b18\"),n={components:{modal:l[\"a\"]},methods:{prepareAddTheme:function(e){console.log(\"prepareAddTheme Called\");var t=this.$refs.newtheme.$refs.fileupload.imageUrl,a=e.target.elements,i=new FormData;i.append(\"theme_description\",a.theme_description.value),i.append(\"theme_image\",t),i.append(\"theme_active\",a.theme_active.checked?1:0),this.$store.dispatch(\"addTheme\",i)},prepareEditTheme:function(e){console.log(\"prepareEditTheme Called\");var t=this.$refs.edittheme.$refs.fileupload.imageUrl,a=e.target.elements,i=new FormData;i.append(\"theme_id\",a.theme_id.value),i.append(\"theme_description\",a.theme_description.value),i.append(\"theme_image\",t),console.log(\"formdata append theme_image: \"+t),i.append(\"theme_active\",a.theme_active.checked?1:0),console.log(\"Image URL:\"+t),this.$store.dispatch(\"editTheme\",i)}}},r=n,o=a(\"2877\"),d=Object(o[\"a\"])(r,i,s,!1,null,null,null);d.options.__file=\"admin-themes.vue\";t[\"default\"]=d.exports},ff30:function(e,t,a){}}]);","extractedComments":[]}