{"remainingRequest":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/babel-loader/lib/index.js!/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/src/store.js","dependencies":[{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/src/store.js","mtime":1547894731757},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport firebase from './firebase';\nimport axios from 'axios';\nimport { resolve } from 'url';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    user: {},\n    authLoadingStatus: 'NOT_LOADING',\n    // Admin\n    bookings: [],\n    orders: [],\n    users: [],\n    categories: [],\n    packages: [],\n    themes: [],\n    addons: [],\n    inclusions: [],\n    weekBookings: \"\",\n    blockedDates: [],\n    blockedDays: [],\n    // User\n    myBookings: [],\n    myOrders: [],\n    notifications: [],\n    // Booking\n    selectedCategoryId: -1,\n    selectedPackageId: -1,\n    booking: {\n      package: {},\n      addons: [],\n      // For selected package only\n      theme_ids: [],\n      booking_date: \"\",\n      booking_time: \"\",\n      subject_name: \"\",\n      subject_age: \"\",\n      payment_method: \"BANK_DEPOSIT\"\n    }\n  },\n  getters: {\n    isAuthenticated(state) {\n      return Object.keys(state.user).length != 0;\n    },\n\n    isAdmin(state) {\n      return localStorage.getItem('account_type') == 'admin';\n    },\n\n    allBookings(state) {\n      return state.bookings;\n    },\n\n    allOrders(state) {\n      return state.orders;\n    },\n\n    allUsers(state) {\n      return state.users;\n    },\n\n    userId(state) {\n      return localStorage.getItem('userId');\n    },\n\n    myBookings(state) {\n      return state.myBookings;\n    },\n\n    myOrders(state) {\n      return state.myOrders;\n    },\n\n    categories(state) {\n      return state.categories;\n    },\n\n    packages(state) {\n      return state.packages;\n    },\n\n    themes(state) {\n      return state.themes;\n    },\n\n    addons(state) {\n      return state.addons;\n    },\n\n    inclusions(state) {\n      return state.inclusions;\n    },\n\n    notifications(state) {\n      return state.notifications;\n    },\n\n    weekBookings(state) {\n      return state.weekBookings;\n    },\n\n    blockedDates(state) {\n      return state.blockedDates;\n    },\n\n    blockedDays(state) {\n      return state.blockedDays;\n    },\n\n    // Book\n    selectedCategoryId(state) {\n      return state.selectedCategoryId;\n    },\n\n    selectedPackageId(state) {\n      return state.selectedPackageId;\n    },\n\n    booking(state) {\n      return state.booking;\n    },\n\n    bookingSlots(state) {\n      var formData = new FormData();\n      formData.append(\"booking_date\", state.booking.booking_date);\n      formData.append(\"package_minutes\", state.booking.package.package_minutes);\n      axios.post(`/_system/php/api/booking/getOpenSlots.php`, formData).then(response => {\n        if (response.data.success) {\n          return response.data.data;\n        } else {\n          console.error(response);\n          return [];\n        }\n      }).catch(error => {\n        console.log(error);\n        return [];\n      });\n    },\n\n    getBookingTotalPrice(state) {\n      var package_price = state.booking.package.package_price;\n      var addons_price = 0;\n\n      for (var x in state.booking.addons) {\n        addons_price += state.booking.addons[x].addon_price;\n      }\n\n      return package_price + addons_price;\n    }\n\n  },\n  mutations: {\n    setAuthLoadingStatus(state, status) {\n      state.authLoadingStatus = status;\n    },\n\n    setUser(state, user) {\n      state.user = user;\n    },\n\n    setSelfAdmin() {\n      localStorage.setItem('account_type', 'admin');\n    },\n\n    // Admin\n    setBookings(state, bookings) {\n      state.bookings = bookings;\n    },\n\n    setOrders(state, orders) {\n      state.orders = orders;\n    },\n\n    setUsers(state, users) {\n      state.users = users;\n    },\n\n    setCategories(state, categories) {\n      state.categories = categories;\n    },\n\n    setPackages(state, packages) {\n      state.packages = packages;\n    },\n\n    setThemes(state, themes) {\n      state.themes = themes;\n    },\n\n    setAddons(state, addons) {\n      state.addons = addons;\n    },\n\n    setInclusions(state, inclusions) {\n      state.inclusions = inclusions;\n    },\n\n    spliceTheme(state, theme_index) {\n      state.booking.theme_ids.splice(theme_index, 1);\n    },\n\n    pushTheme(state, theme_id) {\n      state.booking.theme_ids.push(theme_id);\n    },\n\n    setWeekBookings(state, weekBookings) {\n      state.weekBookings = weekBookings;\n    },\n\n    // User\n    setMyBookings(state, bookings) {\n      state.myBookings = bookings;\n    },\n\n    setMyOrders(state, orders) {\n      state.myOrders = orders;\n    },\n\n    setSelfUser() {\n      localStorage.setItem('account_type', 'user');\n    },\n\n    setSelfAccountId(state, userId) {\n      localStorage.setItem('userId', userId);\n    },\n\n    setNotifications(state, notifications) {\n      state.notifications = notifications;\n    },\n\n    // Book\n    setSelectedCategoryId(state, category_id) {\n      state.selectedCategoryId = category_id;\n    },\n\n    setBookingPackage(state, packagex) {\n      state.booking.package = packagex;\n    },\n\n    setSelectedPackageId(state, package_id) {\n      state.selectedPackageId = package_id;\n    },\n\n    setBookingAddons(state, addons) {\n      state.booking.addons = addons;\n    },\n\n    addBookingAddon(state, addon) {\n      state.booking.addons.push(addon);\n    },\n\n    spliceBookingAddon(state, index) {\n      state.booking.addons.splice(index, 1);\n    },\n\n    upgradePrint(state, index) {\n      state.booking.addons[index].addon_description = 'Upgraded to 12x16';\n      state.booking.addons[index].addon_price = 250;\n    },\n\n    unupgradePrint(state, index) {\n      state.booking.addons[index].addon_description = '8x10';\n      state.booking.addons[index].addon_price = 0;\n    },\n\n    setBookingDate(state, date) {\n      state.booking.booking_date = date;\n    },\n\n    setBookingTime(state, time) {\n      state.booking.booking_time = time;\n    },\n\n    setBlockedDates(state, dates) {\n      state.blockedDates = dates;\n    },\n\n    setBlockedDays(state, days) {\n      state.blockedDays = days;\n    }\n\n  },\n  actions: {\n    facebookSignIn(context) {\n      var provider = new firebase.auth.FacebookAuthProvider();\n      firebase.auth().signInWithPopup(provider).then(function (result) {\n        // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n        var token = result.credential.accessToken; // The signed-in user info.\n\n        var user = result.user; // Register to PHP Database\n\n        axios.get(`/_system/php/api/account/facebookSignIn.php?facebook_id=${user.providerData[0].uid}&facebook_name=${user.displayName}`).then(function (response) {\n          // handle success\n          console.log('Account connected to database');\n          console.log(response);\n          if (response.data.data.account_type == 'ADMIN') context.commit('setSelfAdmin');else context.commit('setSelfUser');\n          context.commit('setSelfAccountId', response.data.data.account_id);\n          context.commit('setUser', user);\n        }).catch(function (error) {\n          // handle error\n          console.log(error);\n        }); // ...\n      }).catch(function (error) {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message; // The email of the user's account used.\n\n        var email = error.email; // The firebase.auth.AuthCredential type that was used.\n\n        var credential = error.credential; // ...\n\n        console.log(errorMessage);\n      });\n    },\n\n    signOut(context) {\n      firebase.auth().signOut().then(() => {\n        console.log(\"success\");\n        context.commit(\"setUser\", {});\n      }, error => {\n        console.log(error);\n      });\n    },\n\n    loadCurrentUser(context) {\n      context.commit('setAuthLoadingStatus', 'LOADING');\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          context.commit('setAuthLoadingStatus', 'NOT_LOADING');\n          context.commit('setUser', user);\n        } else {\n          context.commit('setAuthLoadingStatus', 'NOT_LOADING');\n          console.log('No User');\n        }\n      });\n    },\n\n    // Admin\n    getAllBookings(context) {\n      console.log('store: called getAllBookings');\n      axios.get('/_system/php/api/booking/getAll.php').then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setBookings', response.data.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    getAllOrders(context) {\n      console.log('store: called getAllOrders');\n      axios.get('/_system/php/api/orders/getAll.php').then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setOrders', response.data.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    approveBooking(context, bookingId) {\n      console.log(\"approve Booking clicked \" + bookingId);\n      var formdata = new FormData();\n      formdata.append('booking_id', bookingId);\n      formdata.append('account_id', context.getters.userId);\n      console.log(context.getters.userId);\n      axios.post('/_system/php/api/booking/approveBooking.php', formdata).then(function (response) {\n        // handle success\n        context.dispatch('getAllBookings');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    getAllUsers(context) {\n      console.log('store: called getAllUsers');\n      axios.get('/_system/php/api/users/getAll.php').then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setUsers', response.data.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    getUserBookings(context, userId) {\n      console.log('store: called getUserBookings');\n      axios.get(`/_system/php/api/booking/getUserBookings.php?account_id=${userId}`).then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setMyBookings', response.data.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    getUserOrders(context) {\n      console.log('store: called getUserOrders');\n      var userId = context.getters.userId;\n      axios.get(`/_system/php/api/orders/getUserOrders.php?account_id=${userId}`).then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setMyOrders', response.data.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    loadCategories(context) {\n      console.log('store: called loadCategories');\n      axios.get('/_system/php/api/category/getAll.php').then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setCategories', response.data.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    loadPackages(context) {\n      console.log('store: called loadPackages');\n      axios.get('/_system/php/api/package/getAll.php').then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setPackages', response.data.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    loadAddons(context) {\n      console.log('store: called loadAddons');\n      axios.get('/_system/php/api/addon/getAll.php').then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setAddons', response.data.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    loadInclusions(context) {\n      console.log('store: called loadInclusions');\n      axios.get('/_system/php/api/package/getInclusions.php').then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setInclusions', response.data.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    loadThemes(context) {\n      console.log('store: called loadThemes');\n      axios.get('/_system/php/api/theme/getAll.php').then(function (response) {\n        // handle success\n        console.log(response);\n        context.commit('setThemes', response.data.data);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    submitPayment(context, formdata) {\n      console.log('store: called submitPayment');\n      axios.post('/_system/php/api/booking/addDepositSlip.php', formdata).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('getUserBookings', context.getters.userId);\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    editCategory(context, formdata) {\n      console.log('store: called editCategory');\n      axios.post('/_system/php/api/category/update.php', formdata).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadCategories');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    addCategory(context, formdata) {\n      console.log('store: called addCategory');\n      axios.post('/_system/php/api/category/add.php', formdata).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadCategories');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    deleteCategory(context, category_id) {\n      console.log('store: called deleteCategory');\n      axios.post(`/_system/php/api/category/delete.php?category_id=${category_id}`).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadCategories');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    addPackage(context, formdata) {\n      console.log('store: called addPackage');\n      axios.post('/_system/php/api/package/add.php', formdata).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadPackages');\n        context.dispatch('loadInclusions');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    editPackage(context, formdata) {\n      console.log('store: called editPackage');\n      axios.post('/_system/php/api/package/update.php', formdata).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadPackages');\n        context.dispatch('loadInclusions');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    deletePackage(context, package_id) {\n      console.log('store: called deletePackage');\n      axios.post(`/_system/php/api/package/delete.php?package_id=${package_id}`).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadPackages');\n        context.dispatch('loadInclusions');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    addAddon(context, formdata) {\n      console.log('store: called addAddon');\n      axios.post('/_system/php/api/addon/add.php', formdata).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadAddons');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    editAddon(context, formdata) {\n      console.log('store: called editAddon');\n      axios.post('/_system/php/api/addon/update.php', formdata).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadAddons');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    deleteAddon(context, addon_id) {\n      console.log('store: called deleteAddon');\n      axios.post(`/_system/php/api/addon/delete.php?addon_id=${addon_id}`).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadAddons');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    addTheme(context, formdata) {\n      console.log('store: called addTheme');\n      axios.post('/_system/php/api/theme/add.php', formdata).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadThemes');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    editTheme(context, formdata) {\n      console.log('store: called editTheme');\n      axios.post('/_system/php/api/theme/update.php', formdata).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadThemes');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    deleteTheme(context, theme_id) {\n      console.log('store: called deleteTheme');\n      axios.post(`/_system/php/api/theme/delete.php?theme_id=${theme_id}`).then(function (response) {\n        // handle success\n        console.log(response);\n        context.dispatch('loadThemes');\n      }).catch(function (error) {\n        // handle error\n        console.log(error);\n      });\n    },\n\n    loadNotifications(context) {\n      axios.get(`/_system/php/api/notification/getUserNotifications.php?account_id=${context.getters.userId}`).then(response => {\n        context.commit('setNotifications', response.data.data);\n        resolve();\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    markAsRead(context, notification_id) {\n      axios.post(`/_system/php/api/notification/markAsRead.php?notification_id=${notification_id}`).then(response => {\n        context.dispatch('loadNotifications');\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    setBookingPackage(context, packagex) {\n      context.commit('setBookingPackage', packagex);\n      context.commit('setSelectedPackageId', packagex.package_id);\n    },\n\n    preparetheme(context, id) {\n      if (context.getters.booking.theme_ids.includes(id)) {\n        var index = context.getters.booking.theme_ids.indexOf(id); //\n\n        context.commit('spliceTheme', index);\n      } else if (context.getters.booking.theme_ids.length < context.getters.booking.package.package_themes) {\n        context.commit('pushTheme', id);\n      }\n    },\n\n    cancelBooking(context, id) {\n      var formdata = new FormData();\n      formdata.append('booking_id', id);\n      formdata.append('account_id', context.getters.userId);\n      console.log(context.getters.userId);\n      axios.post('/_system/php/api/booking/cancelBooking.php', formdata).then(response => {\n        if (response.data.success) {\n          context.dispatch('getAllBookings');\n        } else {\n          console.log(response.data.message);\n        }\n      }).catch(error => {\n        cosnole.error('failed to cancel booking: ' + error);\n      });\n    },\n\n    markAsCompleted(context, booking_id) {\n      var formdata = new FormData();\n      formdata.append('booking_id', booking_id);\n      formdata.append('account_id', context.getters.userId);\n      console.log(context.getters.userId);\n      axios.post('/_system/php/api/booking/completeBooking.php', formdata).then(response => {\n        if (response.data.success) {\n          context.dispatch('getAllBookings');\n        } else {\n          console.log(response.data.message);\n        }\n      }).catch(error => {\n        cosnole.error('failed to mark booking as done: ' + error);\n      });\n    },\n\n    book(context) {\n      var formData = new FormData();\n      formData.append('package', JSON.stringify(context.getters.booking.package));\n      formData.append('booking_addons', JSON.stringify(context.getters.booking.addons));\n      formData.append('booking_themes', JSON.stringify(context.getters.booking.theme_ids));\n      formData.append('booking_date', context.getters.booking.booking_date);\n      formData.append('booking_time', context.getters.booking.booking_time);\n      formData.append('subject_name', context.getters.booking.subject_name);\n      formData.append('subject_age', context.getters.booking.subject_age);\n      formData.append('account_id', context.getters.userId); // formData.append('token', context.getters.account.token);\n\n      formData.append('payment_method', context.getters.booking.payment_method);\n      formData.append('booking_total_price', context.getters.getBookingTotalPrice);\n      axios.post('/_system/php/api/booking/add.php', formData).then(response => {\n        if (response.data.success) {\n          console.log(response.data);\n        } else console.error(response.data.message);\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n\n    placeOrder(context, submitEvent) {\n      var elements = [];\n\n      for (var key in submitEvent.target.elements) {\n        if (submitEvent.target.elements[key].type == 'text') elements.push(submitEvent.target.elements[key]);\n      }\n\n      var order_list = elements.map(function (element) {\n        return {\n          filename: element.value,\n          addon: JSON.parse(element.attributes.addon.nodeValue)\n        };\n      });\n      var formData = new FormData();\n      formData.append('order_list', JSON.stringify(order_list));\n      formData.append('account_id', context.getters.userId);\n      formData.append('booking_id', submitEvent.target.elements.booking_id.value);\n      axios.post('/_system/php/api/orders/add.php', formData).then(response => {\n        context.dispatch('getUserOrders');\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n\n    cancelOrder(context, orderId) {},\n\n    notifyForPickup(context, ids) {\n      console.log('called notifyForPickup');\n      var formData = new FormData();\n      formData.append('order_id', ids.order_id);\n      formData.append('account_id', ids.account_id);\n      axios.post('/_system/php/api/orders/notifyForPickup.php', formData).then(response => {\n        context.dispatch('getAllOrders');\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n\n    markAsReleased(context, ids) {\n      console.log('called markAsReleased');\n      var formData = new FormData();\n      formData.append('order_id', ids.order_id);\n      formData.append('account_id', ids.account_id);\n      axios.post('/_system/php/api/orders/markAsReleased.php', formData).then(response => {\n        console.log(response);\n        context.dispatch('getAllOrders');\n      }).catch(error => {\n        console.error(error);\n      });\n    },\n\n    loadWeekBookings(context) {\n      console.log('calledLoadWeekBookings');\n      axios.get(`/_system/php/api/booking/getByWeek.php?from_date=${new Date().getFullYear() + '-' + (new Date().getMonth() + 1 < 10 ? '0' : '') + (new Date().getMonth() + 1) + '-' + (new Date().getDate() + 1 < 10 ? '0' : '') + new Date().getDate()}`).then(response => {\n        console.log('response: ' + JSON.stringify(response.data));\n        context.commit('setWeekBookings', JSON.stringify(response.data));\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    loadWeekBookings(context) {\n      console.log('called loadBlockedDates');\n      axios.get(`/_system/php/api/booking/blockedDates.php`).then(response => {\n        console.log('response: ' + JSON.stringify(response.data));\n        context.commit('setBlockedDates', JSON.stringify(response.data));\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    blockDate(context, date_value) {\n      console.log('called blockDate');\n      axios.get(`/_system/php/api/booking/blockDate.php?date=${date_value}`).then(response => {\n        console.log('response: ' + JSON.stringify(response.data));\n        context.dispatch('loadBlockedDates');\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    loadBlockedDates(context) {\n      console.log('called loadBlockedDates');\n      axios.get(`/_system/php/api/booking/loadBlockedDates.php`).then(response => {\n        console.log('response: ' + JSON.stringify(response.data));\n        context.commit('setBlockedDates', response.data.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    removeBlockedDate(context, date_id) {\n      console.log('called removeBlockedDate');\n      axios.get(`/_system/php/api/booking/removeBlockedDate.php?date_id=${date_id}`).then(response => {\n        console.log('response: ' + JSON.stringify(response.data));\n        context.dispatch('loadBlockedDates');\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    loadBlockedDays(context) {\n      console.log('called loadBlockedDays');\n      axios.get(`/_system/php/functions/loadConfig.php?config_key=blocked_days`).then(response => {\n        console.log('response: ' + JSON.stringify(response.data));\n        context.commit('setBlockedDays', JSON.parse(response.data.data.config_value));\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    saveBlockedDays(context, value) {\n      console.log('called saveBlockedDays');\n      axios.get(`/_system/php/functions/setConfig.php?config_key=blocked_days&config_value=${value}`).then(response => {\n        console.log('response: ' + JSON.stringify(response.data));\n        context.dispatch('loadBlockedDays');\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n\n  }\n});",{"version":3,"sources":["/media/lucky8548875/SJ Raymundo (2TB)/Documents/Shame/remember-them-little-pwa/src/store.js"],"names":["Vue","Vuex","firebase","axios","resolve","use","Store","state","user","authLoadingStatus","bookings","orders","users","categories","packages","themes","addons","inclusions","weekBookings","blockedDates","blockedDays","myBookings","myOrders","notifications","selectedCategoryId","selectedPackageId","booking","package","theme_ids","booking_date","booking_time","subject_name","subject_age","payment_method","getters","isAuthenticated","Object","keys","length","isAdmin","localStorage","getItem","allBookings","allOrders","allUsers","userId","bookingSlots","formData","FormData","append","package_minutes","post","then","response","data","success","console","error","catch","log","getBookingTotalPrice","package_price","addons_price","x","addon_price","mutations","setAuthLoadingStatus","status","setUser","setSelfAdmin","setItem","setBookings","setOrders","setUsers","setCategories","setPackages","setThemes","setAddons","setInclusions","spliceTheme","theme_index","splice","pushTheme","theme_id","push","setWeekBookings","setMyBookings","setMyOrders","setSelfUser","setSelfAccountId","setNotifications","setSelectedCategoryId","category_id","setBookingPackage","packagex","setSelectedPackageId","package_id","setBookingAddons","addBookingAddon","addon","spliceBookingAddon","index","upgradePrint","addon_description","unupgradePrint","setBookingDate","date","setBookingTime","time","setBlockedDates","dates","setBlockedDays","days","actions","facebookSignIn","context","provider","auth","FacebookAuthProvider","signInWithPopup","result","token","credential","accessToken","get","providerData","uid","displayName","account_type","commit","account_id","errorCode","code","errorMessage","message","email","signOut","loadCurrentUser","onAuthStateChanged","getAllBookings","getAllOrders","approveBooking","bookingId","formdata","dispatch","getAllUsers","getUserBookings","getUserOrders","loadCategories","loadPackages","loadAddons","loadInclusions","loadThemes","submitPayment","editCategory","addCategory","deleteCategory","addPackage","editPackage","deletePackage","addAddon","editAddon","deleteAddon","addon_id","addTheme","editTheme","deleteTheme","loadNotifications","markAsRead","notification_id","preparetheme","id","includes","indexOf","package_themes","cancelBooking","cosnole","markAsCompleted","booking_id","book","JSON","stringify","placeOrder","submitEvent","elements","key","target","type","order_list","map","element","filename","value","parse","attributes","nodeValue","cancelOrder","orderId","notifyForPickup","ids","order_id","markAsReleased","loadWeekBookings","Date","getFullYear","getMonth","getDate","blockDate","date_value","loadBlockedDates","removeBlockedDate","date_id","loadBlockedDays","config_value","saveBlockedDays"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport firebase from './firebase';\nimport axios from 'axios'\nimport { resolve } from 'url';\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    user: {},\n    authLoadingStatus: 'NOT_LOADING',\n\n    // Admin\n    bookings: [],\n    orders: [],\n    users: [],\n    categories: [],\n    packages: [],\n    themes: [],\n    addons: [],\n    inclusions: [],\n    weekBookings: \"\",\n    blockedDates: [],\n    blockedDays: [],\n\n    // User\n    myBookings: [],\n    myOrders: [],\n    notifications: [],\n\n    // Booking\n    selectedCategoryId: -1,\n    selectedPackageId: -1,\n\n    booking: {\n      package: {},\n      addons: [], // For selected package only\n      theme_ids: [],\n      booking_date: \"\",\n      booking_time: \"\",\n      subject_name: \"\",\n      subject_age: \"\",\n      payment_method: \"BANK_DEPOSIT\"\n    },\n\n  },\n  getters: {\n    isAuthenticated(state) {\n      return Object.keys(state.user).length != 0\n    },\n    isAdmin(state) {\n      return localStorage.getItem('account_type') == 'admin'\n    },\n    allBookings(state) {\n      return state.bookings\n    },\n    allOrders(state) {\n      return state.orders\n    },\n    allUsers(state) {\n      return state.users\n    },\n    userId(state) {\n      return localStorage.getItem('userId')\n    },\n    myBookings(state) {\n      return state.myBookings\n    },\n    myOrders(state) {\n      return state.myOrders\n    },\n    categories(state) {\n      return state.categories\n    },\n    packages(state) {\n      return state.packages\n    },\n    themes(state) {\n      return state.themes\n    },\n    addons(state) {\n      return state.addons\n    },\n    inclusions(state) {\n      return state.inclusions\n    },\n    notifications(state) {\n      return state.notifications\n    },\n    weekBookings(state) {\n      return state.weekBookings\n    },\n    blockedDates(state) {\n      return state.blockedDates\n    },\n    blockedDays(state) {\n      return state.blockedDays\n    },\n\n    // Book\n    selectedCategoryId(state) {\n      return state.selectedCategoryId\n    },\n    selectedPackageId(state) {\n      return state.selectedPackageId\n    },\n    booking(state) {\n      return state.booking\n    },\n    bookingSlots(state){\n      var formData = new FormData()\n      formData.append(\"booking_date\", state.booking.booking_date);\n\t\t\t\tformData.append(\"package_minutes\", state.booking.package.package_minutes);\n\t\t\t\taxios\n\t\t\t\t\t.post(`/_system/php/api/booking/getOpenSlots.php`, formData)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\tif (response.data.success) {\n\t\t\t\t\t\t\treturn response.data.data;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error(response);\n\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t});\n    },\n    getBookingTotalPrice(state){\n        var package_price = state.booking.package.package_price;\n        var addons_price = 0;\n        for (var x in state.booking.addons) {\n            addons_price += state.booking.addons[x].addon_price\n        }\n        return package_price + addons_price;\n    }\n\n  },\n  mutations: {\n    setAuthLoadingStatus(state, status) {\n      state.authLoadingStatus = status\n    },\n    setUser(state, user) {\n      state.user = user\n    },\n    setSelfAdmin() {\n      localStorage.setItem('account_type', 'admin')\n    },\n    // Admin\n    setBookings(state, bookings) {\n      state.bookings = bookings\n    },\n    setOrders(state, orders) {\n      state.orders = orders\n    },\n    setUsers(state, users) {\n      state.users = users\n    },\n    setCategories(state, categories) {\n      state.categories = categories\n    },\n    setPackages(state, packages) {\n      state.packages = packages\n    },\n    setThemes(state, themes) {\n      state.themes = themes\n    },\n    setAddons(state, addons) {\n      state.addons = addons\n    },\n    setInclusions(state, inclusions) {\n      state.inclusions = inclusions\n    },\n    spliceTheme(state, theme_index) {\n      state.booking.theme_ids.splice(theme_index, 1);\n    },\n    pushTheme(state, theme_id) {\n      state.booking.theme_ids.push(theme_id)\n    },\n    setWeekBookings(state,weekBookings){\n      state.weekBookings = weekBookings\n    }\n    ,\n\n    // User\n    setMyBookings(state, bookings) {\n      state.myBookings = bookings\n    },\n    setMyOrders(state, orders) {\n      state.myOrders = orders\n    },\n    setSelfUser() {\n      localStorage.setItem('account_type', 'user')\n    },\n    setSelfAccountId(state, userId) {\n      localStorage.setItem('userId', userId)\n    },\n    setNotifications(state, notifications) {\n      state.notifications = notifications\n    },\n\n    // Book\n    setSelectedCategoryId(state, category_id) {\n      state.selectedCategoryId = category_id\n    },\n    setBookingPackage(state, packagex) {\n      state.booking.package = packagex\n    },\n    setSelectedPackageId(state, package_id) {\n      state.selectedPackageId = package_id\n    },\n    setBookingAddons(state, addons) {\n      state.booking.addons = addons\n    },\n    addBookingAddon(state, addon){\n      state.booking.addons.push(addon)\n    },\n    spliceBookingAddon(state,index){\n      state.booking.addons.splice(index,1)\n    },\n    upgradePrint(state,index){\n      state.booking.addons[index].addon_description='Upgraded to 12x16';\n      state.booking.addons[index].addon_price=250;\n    },\n    unupgradePrint(state,index){\n      state.booking.addons[index].addon_description='8x10';\n      state.booking.addons[index].addon_price=0;\n    },\n    setBookingDate(state,date){\n      state.booking.booking_date = date\n    },\n    setBookingTime(state,time){\n      state.booking.booking_time = time\n    },\n    setBlockedDates(state,dates){\n      state.blockedDates = dates\n    },\n    setBlockedDays(state,days){\n      state.blockedDays = days\n    }\n\n\n\n\n  },\n  actions: {\n    facebookSignIn(context) {\n      var provider = new firebase.auth.FacebookAuthProvider();\n      firebase.auth()\n        .signInWithPopup(provider)\n        .then(function (result) {\n          // This gives you a Facebook Access Token. You can use it to access the Facebook API.\n          var token = result.credential.accessToken;\n          // The signed-in user info.\n          var user = result.user;\n\n          // Register to PHP Database\n          axios.get(`/_system/php/api/account/facebookSignIn.php?facebook_id=${user.providerData[0].uid}&facebook_name=${user.displayName}`)\n            .then(function (response) {\n              // handle success\n              console.log('Account connected to database')\n              console.log(response)\n              if (response.data.data.account_type == 'ADMIN')\n                context.commit('setSelfAdmin')\n              else\n                context.commit('setSelfUser')\n\n              context.commit('setSelfAccountId', response.data.data.account_id)\n              context.commit('setUser', user)\n\n            })\n            .catch(function (error) {\n              // handle error\n              console.log(error);\n            })\n\n          // ...\n        })\n        .catch(function (error) {\n          // Handle Errors here.\n          var errorCode = error.code;\n          var errorMessage = error.message;\n          // The email of the user's account used.\n          var email = error.email;\n          // The firebase.auth.AuthCredential type that was used.\n          var credential = error.credential;\n          // ...\n          console.log(errorMessage)\n        });\n    },\n    signOut(context) {\n      firebase.auth().signOut().then(\n        () => {\n          console.log(\"success\")\n          context.commit(\"setUser\", {})\n        },\n        (error) => {\n          console.log(error)\n        }\n      )\n    },\n    loadCurrentUser(context) {\n      context.commit('setAuthLoadingStatus', 'LOADING')\n      firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          context.commit('setAuthLoadingStatus', 'NOT_LOADING')\n          context.commit('setUser', user)\n        } else {\n          context.commit('setAuthLoadingStatus', 'NOT_LOADING')\n          console.log('No User')\n        }\n      });\n    },\n    // Admin\n    getAllBookings(context) {\n      console.log('store: called getAllBookings')\n      axios.get('/_system/php/api/booking/getAll.php')\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.commit('setBookings', response.data.data)\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n\n    },\n    getAllOrders(context) {\n      console.log('store: called getAllOrders')\n      axios.get('/_system/php/api/orders/getAll.php')\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.commit('setOrders', response.data.data)\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n\n    },\n    approveBooking(context, bookingId) {\n      console.log(\"approve Booking clicked \" + bookingId)\n      var formdata = new FormData;\n      formdata.append('booking_id', bookingId)\n      formdata.append('account_id', context.getters.userId)\n      console.log(context.getters.userId)\n      axios.post('/_system/php/api/booking/approveBooking.php', formdata)\n        .then(function (response) {\n          // handle success\n\n          context.dispatch('getAllBookings')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    getAllUsers(context) {\n      console.log('store: called getAllUsers')\n      axios.get('/_system/php/api/users/getAll.php')\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.commit('setUsers', response.data.data)\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    getUserBookings(context, userId) {\n      console.log('store: called getUserBookings')\n      axios.get(`/_system/php/api/booking/getUserBookings.php?account_id=${userId}`)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.commit('setMyBookings', response.data.data)\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    getUserOrders(context) {\n      console.log('store: called getUserOrders')\n      var userId = context.getters.userId\n      axios.get(`/_system/php/api/orders/getUserOrders.php?account_id=${userId}`)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.commit('setMyOrders', response.data.data)\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    loadCategories(context) {\n      console.log('store: called loadCategories')\n      axios.get('/_system/php/api/category/getAll.php')\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.commit('setCategories', response.data.data)\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    loadPackages(context) {\n      console.log('store: called loadPackages')\n      axios.get('/_system/php/api/package/getAll.php')\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.commit('setPackages', response.data.data)\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    loadAddons(context) {\n      console.log('store: called loadAddons')\n      axios.get('/_system/php/api/addon/getAll.php')\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.commit('setAddons', response.data.data)\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    loadInclusions(context) {\n      console.log('store: called loadInclusions')\n      axios.get('/_system/php/api/package/getInclusions.php')\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.commit('setInclusions', response.data.data)\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    loadThemes(context) {\n      console.log('store: called loadThemes')\n      axios.get('/_system/php/api/theme/getAll.php')\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.commit('setThemes', response.data.data)\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    submitPayment(context, formdata) {\n      console.log('store: called submitPayment')\n      axios.post('/_system/php/api/booking/addDepositSlip.php', formdata)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('getUserBookings', context.getters.userId)\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    editCategory(context, formdata) {\n      console.log('store: called editCategory')\n      axios.post('/_system/php/api/category/update.php', formdata)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadCategories')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    addCategory(context, formdata) {\n      console.log('store: called addCategory')\n      axios.post('/_system/php/api/category/add.php', formdata)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadCategories')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n\n    deleteCategory(context, category_id) {\n      console.log('store: called deleteCategory')\n      axios.post(`/_system/php/api/category/delete.php?category_id=${category_id}`)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadCategories')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    addPackage(context, formdata) {\n      console.log('store: called addPackage')\n      axios.post('/_system/php/api/package/add.php', formdata)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadPackages')\n          context.dispatch('loadInclusions')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    editPackage(context, formdata) {\n      console.log('store: called editPackage')\n      axios.post('/_system/php/api/package/update.php', formdata)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadPackages')\n          context.dispatch('loadInclusions')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    deletePackage(context, package_id) {\n      console.log('store: called deletePackage')\n      axios.post(`/_system/php/api/package/delete.php?package_id=${package_id}`)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadPackages')\n          context.dispatch('loadInclusions')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    addAddon(context, formdata) {\n      console.log('store: called addAddon')\n      axios.post('/_system/php/api/addon/add.php', formdata)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadAddons')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    editAddon(context, formdata) {\n      console.log('store: called editAddon')\n      axios.post('/_system/php/api/addon/update.php', formdata)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadAddons')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    deleteAddon(context, addon_id) {\n      console.log('store: called deleteAddon')\n      axios.post(`/_system/php/api/addon/delete.php?addon_id=${addon_id}`)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadAddons')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    addTheme(context, formdata) {\n      console.log('store: called addTheme')\n      axios.post('/_system/php/api/theme/add.php', formdata)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadThemes')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    editTheme(context, formdata) {\n      console.log('store: called editTheme')\n      axios.post('/_system/php/api/theme/update.php', formdata)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadThemes')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    deleteTheme(context, theme_id) {\n      console.log('store: called deleteTheme')\n      axios.post(`/_system/php/api/theme/delete.php?theme_id=${theme_id}`)\n        .then(function (response) {\n          // handle success\n          console.log(response)\n          context.dispatch('loadThemes')\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        })\n    },\n    loadNotifications(context) {\n\n      axios.get(`/_system/php/api/notification/getUserNotifications.php?account_id=${context.getters.userId}`)\n        .then(response => {\n          context.commit('setNotifications', response.data.data)\n          resolve()\n        })\n        .catch(error => {\n          console.log(error)\n        },\n        )\n    },\n    markAsRead(context, notification_id) {\n      axios.post(`/_system/php/api/notification/markAsRead.php?notification_id=${notification_id}`)\n        .then(response => {\n          context.dispatch('loadNotifications')\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    setBookingPackage(context, packagex) {\n      context.commit('setBookingPackage', packagex)\n      context.commit('setSelectedPackageId', packagex.package_id)\n    },\n    preparetheme(context, id) {\n      if (context.getters.booking.theme_ids.includes(id)) {\n        var index = context.getters.booking.theme_ids.indexOf(id);\n        //\n        context.commit('spliceTheme', index)\n      }\n      else\n        if (context.getters.booking.theme_ids.length < context.getters.booking.package.package_themes) {\n          context.commit('pushTheme', id)\n        }\n    },\n    cancelBooking(context, id){\n      var formdata = new FormData()\n      formdata.append('booking_id', id)\n      formdata.append('account_id', context.getters.userId)\n      console.log(context.getters.userId)\n      axios.post('/_system/php/api/booking/cancelBooking.php',formdata)\n        .then(response => {\n          if(response.data.success){\n            context.dispatch('getAllBookings')\n          }\n          else{\n            console.log(response.data.message)\n          }\n        })\n        .catch(error =>{\n          cosnole.error('failed to cancel booking: ' + error)\n        })\n    },\n    markAsCompleted(context, booking_id){\n      var formdata = new FormData()\n      formdata.append('booking_id', booking_id)\n      formdata.append('account_id', context.getters.userId)\n      console.log(context.getters.userId)\n      axios.post('/_system/php/api/booking/completeBooking.php',formdata)\n        .then(response => {\n          if(response.data.success){\n            context.dispatch('getAllBookings')\n          }\n          else{\n            console.log(response.data.message)\n          }\n        })\n        .catch(error =>{\n          cosnole.error('failed to mark booking as done: ' + error)\n        })\n    },\n    book(context){\n      \n      var formData = new FormData();\n      formData.append('package', JSON.stringify(context.getters.booking.package));\n      formData.append('booking_addons', JSON.stringify(context.getters.booking.addons));\n      formData.append('booking_themes', JSON.stringify(context.getters.booking.theme_ids));\n      formData.append('booking_date', context.getters.booking.booking_date);\n      formData.append('booking_time', context.getters.booking.booking_time);\n      formData.append('subject_name', context.getters.booking.subject_name);\n      formData.append('subject_age', context.getters.booking.subject_age);\n      formData.append('account_id', context.getters.userId);\n      // formData.append('token', context.getters.account.token);\n      formData.append('payment_method', context.getters.booking.payment_method);\n      formData.append('booking_total_price', context.getters.getBookingTotalPrice);\n\n      axios.post('/_system/php/api/booking/add.php', formData)\n          .then(\n              response => {\n                  if (response.data.success) {\n                      console.log(response.data)\n                  }\n                  else\n                      console.error(response.data.message)\n              })\n          .catch(error => {\n              console.error(error)\n          })\n          \n    },\n    placeOrder(context,submitEvent){\n      var elements = [];\n      for (var key in submitEvent.target.elements) {\n          if (submitEvent.target.elements[key].type == 'text')\n              elements.push(submitEvent.target.elements[key]);\n      }\n      var order_list = elements.map(function (element) {\n          return {\n              filename: element.value,\n              addon: JSON.parse(element.attributes.addon.nodeValue)\n          }\n      }\n      );\n\n      var formData = new FormData();\n      formData.append('order_list', JSON.stringify(order_list))\n      formData.append('account_id', context.getters.userId)\n      formData.append('booking_id', submitEvent.target.elements.booking_id.value)\n      axios.post('/_system/php/api/orders/add.php',formData)\n        .then(response => {\n          context.dispatch('getUserOrders')\n        })\n        .catch(error =>{\n          console.error(error)\n        })\n    },\n    cancelOrder(context,orderId){\n\n    },\n    notifyForPickup(context, ids){\n      console.log('called notifyForPickup')\n      var formData = new FormData();\n      formData.append('order_id', ids.order_id)\n      formData.append('account_id', ids.account_id)\n      axios.post('/_system/php/api/orders/notifyForPickup.php',formData)\n        .then(response => {\n          context.dispatch('getAllOrders')\n        })\n        .catch(error =>{\n          console.error(error)\n        })\n    },\n    markAsReleased(context, ids){\n      console.log('called markAsReleased')\n      var formData = new FormData();\n      formData.append('order_id', ids.order_id)\n      formData.append('account_id', ids.account_id)\n      axios.post('/_system/php/api/orders/markAsReleased.php',formData)\n        .then(response => {\n          console.log(response)\n          context.dispatch('getAllOrders')\n        })\n        .catch(error =>{\n          console.error(error)\n        })\n    },\n    loadWeekBookings(context){\n      console.log('calledLoadWeekBookings')\n      axios.get(`/_system/php/api/booking/getByWeek.php?from_date=${new Date().getFullYear() + '-' + (((new Date().getMonth()+1)<10 )? '0':'') +(new Date().getMonth()+1) + '-' +(((new Date().getDate()+1)<10 )? '0':'')+ new Date().getDate()}`)\n        .then(response => {\n          console.log('response: ' + JSON.stringify(response.data))\n          context.commit('setWeekBookings',JSON.stringify(response.data) )\n        })\n        .catch(error => {\n          console.log(error)\n        })\n      \n    },\n    loadWeekBookings(context){\n      console.log('called loadBlockedDates')\n      axios.get(`/_system/php/api/booking/blockedDates.php`)\n        .then(response => {\n          console.log('response: ' + JSON.stringify(response.data))\n          context.commit('setBlockedDates',JSON.stringify(response.data))\n        })\n        .catch(error => {\n          console.log(error)\n        })\n      \n    },\n    blockDate(context,date_value){\n      console.log('called blockDate')\n      axios.get(`/_system/php/api/booking/blockDate.php?date=${date_value}`)\n        .then(response => {\n          console.log('response: ' + JSON.stringify(response.data))\n          context.dispatch('loadBlockedDates')\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    loadBlockedDates(context){\n      console.log('called loadBlockedDates')\n      axios.get(`/_system/php/api/booking/loadBlockedDates.php`)\n        .then(response => {\n          console.log('response: ' + JSON.stringify(response.data))\n          context.commit('setBlockedDates',response.data.data)\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    removeBlockedDate(context,date_id){\n      console.log('called removeBlockedDate')\n      axios.get(`/_system/php/api/booking/removeBlockedDate.php?date_id=${date_id}`)\n        .then(response => {\n          console.log('response: ' + JSON.stringify(response.data))\n          context.dispatch('loadBlockedDates')\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    loadBlockedDays(context){\n      console.log('called loadBlockedDays')\n      axios.get(`/_system/php/functions/loadConfig.php?config_key=blocked_days`)\n        .then(response => {\n          console.log('response: ' + JSON.stringify(response.data))\n          context.commit('setBlockedDays',JSON.parse(response.data.data.config_value))\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    saveBlockedDays(context,value){\n      console.log('called saveBlockedDays')\n      axios.get(`/_system/php/functions/setConfig.php?config_key=blocked_days&config_value=${value}`)\n        .then(response => {\n          console.log('response: ' + JSON.stringify(response.data))\n          context.dispatch('loadBlockedDays')\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n\n    \n    \n  \n\n  }\n})\n"]}]}