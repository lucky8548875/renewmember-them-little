{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a305334c\"],{2781:function(t,e,a){},\"2b18\":function(t,e,a){\"use strict\";a(\"cadf\"),a(\"551c\"),a(\"097d\");var s,i,n={props:[\"steps\"],data:function(){return{step:1}},methods:{next:function(){this.step<this.steps&&this.step++},previous:function(){this.step>1&&this.step--}}},o=n,r=a(\"2877\"),l=Object(r[\"a\"])(o,s,i,!1,null,null,null);l.options.__file=\"stepper.vue\";var d=l.exports,c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"flex column\"},[\"\"!=t.imageUrl&&0==t.uploading?a(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:t.imageUrl}}):t._e(),\"\"==t.imageUrl&&\"\"!=t.url?a(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:t.url}}):t._e(),1==t.uploading?a(\"span\",{staticClass:\"flex align-center\"},[a(\"fa\",{attrs:{icon:\"sync-alt\",spin:\"\"}}),a(\"span\",{staticClass:\"margin-left-small\"},[t._v(\"Please wait\")])],1):t._e(),a(\"input\",{ref:\"fileupload\",staticClass:\"wide\",attrs:{type:\"file\",accept:\"image/x-png,image/gif,image/jpeg\",required:t.required},on:{change:function(e){t.uploadFile()}}})])},p=[],u=a(\"bc3a\"),g=a.n(u),f={props:{url:{type:String,default:\"\"},required:{type:Boolean,default:!1}},data:function(){return{imageUrl:\"\",file:null,uploading:!1}},methods:{uploadFile:function(){var t=this;if(this.uploading=!0,this.file=this.$refs.fileupload.files[0],null!=this.file){var e=new FormData;e.append(\"image\",this.file),g.a.post(\"/_system/php/functions/ftpupload.php\",e,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(e){console.log(e),e.data.success?(t.imageUrl=e.data.data,t.uploading=!1,t.$emit(\"saveUrl\",e.data.data)):console.log(\"Error in File Upload\")}).catch(function(t){console.error(t)})}}}},m=f,v=Object(r[\"a\"])(m,c,p,!1,null,null,null);v.options.__file=\"fileupload.vue\";var h,_,b=v.exports,k={components:{fileupload:b,stepper:d},data:function(){return{params:{},visible:!1}},methods:{toggle:function(){this.visible=!this.visible},show:function(t){this.visible=!0,this.params=t}}},y=k,w=(a(\"371d\"),Object(r[\"a\"])(y,h,_,!1,null,\"4da6ce68\",null));w.options.__file=\"modal.vue\";e[\"a\"]=w.exports},\"371d\":function(t,e,a){\"use strict\";var s=a(\"d1e8\"),i=a.n(s);i.a},\"6ba5\":function(t,e,a){\"use strict\";var s=a(\"2781\"),i=a.n(s);i.a},c21c:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"summary_container\"},[a(\"fieldset\",[a(\"legend\",[t._v(\"Schedule\")]),a(\"table\",[a(\"tr\",[a(\"td\",[t._v(\"Date:  \")]),a(\"td\",[t._v(t._s(new Date(t.$store.getters.booking.booking_date).toDateString().substr(3,12)))])]),a(\"tr\",[a(\"td\",[t._v(\"Time:\")]),a(\"td\",[t._v(t._s(t.$store.getters.booking.booking_time))])]),a(\"tr\",[a(\"td\",[t._v(\"Duration:\")]),a(\"td\",[t._v(t._s(t.$store.getters.booking.package.package_minutes)+\" minutes\")])])])]),a(\"fieldset\",[a(\"legend\",[t._v(\"Package Details\")]),a(\"table\",[a(\"tr\",[a(\"td\",{staticStyle:{\"border-bottom\":\"none\",\"padding-bottom\":\"0\"}},[t._v(t._s(t.$store.getters.booking.package.package_name))]),a(\"td\",{staticStyle:{\"border-bottom\":\"none\",\"padding-bottom\":\"0\"}},[t._v(t._s(t.$store.getters.booking.package.package_price))])]),a(\"tr\",[a(\"td\",{staticStyle:{\"border-bottom\":\"none\",\"text-align\":\"left\"},attrs:{colspan:\"2\"}},[a(\"details\",[a(\"summary\",[t._v(\"Details\")]),a(\"p\",{staticStyle:{\"margin-top\":\"1rem\"},domProps:{innerHTML:t._s(t.$store.getters.booking.package.package_description)}})])])])])]),a(\"fieldset\",[a(\"legend\",[t._v(\"Addons\")]),a(\"table\",t._l(t.$store.getters.booking.addons,function(e,s){return a(\"tr\",[a(\"td\",[t._v(t._s(e.addon_type)+\" \"+t._s(e.addon_description))]),a(\"td\",[t._v(t._s(0==e.addon_price?\"FREE\":\"P \"+e.addon_price))])])}),0)]),a(\"div\",{staticClass:\"wide flex center-child padding\"},[a(\"button\",{staticClass:\"continue-button\",on:{click:function(e){t.$refs.pay.show()}}},[t._v(\"Confirm (Php \"+t._s(t.$store.getters.getBookingTotalPrice)+\")\")])]),a(\"modal\",{ref:\"pay\",inlineTemplate:{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"transition\",{attrs:{name:\"fade\"}},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.visible,expression:\"visible\"}],staticClass:\"fixed-fill\",attrs:{id:\"backdrop\"},on:{click:t.toggle}})]),a(\"transition\",{attrs:{name:\"fade\"}},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.visible,expression:\"visible\"}],staticClass:\"card fixed-center flex column five-large seven-medium twelve-small max-high\",attrs:{id:\"modal\"}},[a(\"stepper\",{attrs:{steps:\"2\"},inlineTemplate:{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"div\",{staticClass:\"flex justify-space-between align-center wide\"},[a(\"h2\",{staticClass:\"padding\"},[t._v(\"Payment\")]),a(\"a\",{staticClass:\"padding\",on:{click:t.$parent.toggle}},[a(\"fa\",{attrs:{icon:\"times\"}})],1)]),a(\"hr\"),a(\"div\",{staticStyle:{overflow:\"hidden\"}},[a(\"transition\",{attrs:{name:\"slide-left\",mode:\"out-in\"}},[1==t.step?a(\"div\",{key:\"1\"},[a(\"a\",{staticClass:\"block padding\",on:{click:function(e){t.step=2}}},[t._v(\"Pay thru Bank Deposit\")]),a(\"a\",{staticClass:\"block padding\",on:{click:function(e){t.$parent.$parent.startPayment()}}},[t._v(\"Pay with Credit Card\")])]):t._e(),2==t.step?a(\"div\",{key:\"2\"},[a(\"center\",{staticClass:\"padding\"},[a(\"span\",[t._v(\"bank deposit details\")]),a(\"button\",{staticClass:\"primary\",on:{click:function(e){t.$store.dispatch(\"book\"),t.$router.push(\"/dashboard\")}}},[t._v(\"Confirm\")])])],1):t._e()])],1)])},staticRenderFns:[]}})],1)])],1)},staticRenderFns:[]}})],1)},i=[],n=(a(\"cadf\"),a(\"551c\"),a(\"097d\"),a(\"2b18\")),o={components:{modal:n[\"a\"]},methods:{startPayment:function(){function t(){return[{supportedMethods:\"basic-card\",data:{supportedNetworks:[\"visa\",\"mastercard\"],supportedTypes:[\"debit\",\"credit\"]}}]}var e=[];e.push({label:this.$store.getters.booking.package.package_name,amount:{currency:\"PHP\",value:this.$store.getters.booking.package.package_price}});for(var a=0;a<this.$store.getters.booking.addons.length;a++)e.push({label:this.$store.getters.booking.addons[a].addon_description+(0==this.$store.getters.booking.addons[a].addon_price?\" (FREE)\":\"\"),amount:{currency:\"PHP\",value:this.$store.getters.booking.addons[a].addon_price}});var s={id:\"order-123\",displayItems:e,total:{label:\"Total\",amount:{currency:\"PHP\",value:this.$store.getters.getBookingTotalPrice}}};function i(){return s}var n=new PaymentRequest(t(),i()),o=this.$store,r=this.$router;n.show().then(function(t){t.complete(\"success\").then(function(){alert(\"Payment Successful\"),console.log(\"Payment Successful\"),o.state.booking.payment_method=\"CREDIT_CARD\",o.dispatch(\"book\"),r.push(\"/dashboard\")})})}}},r=o,l=(a(\"6ba5\"),a(\"2877\")),d=Object(l[\"a\"])(r,s,i,!1,null,\"2e6263ed\",null);d.options.__file=\"book-summary.vue\";e[\"default\"]=d.exports},d1e8:function(t,e,a){}}]);","extractedComments":[]}