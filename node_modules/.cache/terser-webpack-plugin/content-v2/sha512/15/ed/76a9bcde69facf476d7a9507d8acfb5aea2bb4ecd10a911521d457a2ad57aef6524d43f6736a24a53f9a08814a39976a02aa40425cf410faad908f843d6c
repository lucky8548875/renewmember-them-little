{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-908e38e8\"],{\"6af5\":function(t,e,a){\"use strict\";var n=a(\"bef8\"),o=a.n(n);o.a},\"89fb\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{attrs:{id:\"schedule\"}},[a(\"div\",{staticClass:\"calendar_container\"},[a(\"calendar\",{ref:\"calendar\"}),a(\"div\",{staticClass:\"slots_wrapper\"},[a(\"h4\",{staticClass:\"h4 margin\"},[t._v(\"Slots Available\")]),t.slots.length>0&&\"\"!=t.$store.state.booking.booking_date?a(\"div\",{staticClass:\"slots_container margin\"},t._l(t.slots,function(e){return a(\"span\",{staticClass:\"slot\",class:{active:t.$store.getters.booking.booking_time==e},on:{click:function(a){t.$store.commit(\"setBookingTime\",e)}}},[t._v(t._s(e))])}),0):t._e()])],1),a(\"div\",{staticClass:\"wide flex center-child padding\"},[a(\"router-link\",{staticClass:\"continue-button\",attrs:{to:\"/book/summary\"}},[t._v(\"Continue\")])],1)])},o=[],s=a(\"bc3a\"),i=a.n(s),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"calendar_my padding\"},[a(\"div\",{staticClass:\"calendar_my_label\"},[a(\"div\",{staticClass:\"prev padding\",on:{click:function(e){t.previousMonth(),t.date=\"\",t.$store.commit(\"setBookingDate\",\"\")}}},[a(\"fa\",{attrs:{icon:\"angle-left\"}})],1),a(\"span\",{staticClass:\"my_label\"},[t._v(t._s(t.my_label))]),a(\"div\",{staticClass:\"next padding\",on:{click:function(e){t.nextMonth(),t.date=\"\",t.$store.commit(\"setBookingDate\",\"\")}}},[a(\"fa\",{attrs:{icon:\"angle-right\"}})],1)]),a(\"table\",{staticClass:\"schedule_table\",attrs:{cellspacing:\"0\"}},[t._m(0),a(\"tbody\",t._l(t.date_array,function(e){return a(\"tr\",t._l(e,function(e){return a(\"td\",{class:{active:t.date==e.getDate()&&\"\"!=t.date,inactive:\"\"==e.getDate()||t.dateCheck(e.getDate())},on:{click:function(a){t.date=t.dateCheck(e.getDate())||\"\"==e.getDate()?t.date:e.getDate(),t.selected_date}}},[t._v(\"\\n                          \"+t._s(e.getDate())+\"\\n                      \")])}),0)}),0)])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"thead\",[a(\"tr\",[a(\"th\",[t._v(\"S\")]),a(\"th\",[t._v(\"M\")]),a(\"th\",[t._v(\"T\")]),a(\"th\",[t._v(\"W\")]),a(\"th\",[t._v(\"T\")]),a(\"th\",[t._v(\"F\")]),a(\"th\",[t._v(\"S\")])])])}],l=(a(\"6762\"),a(\"2fdb\"),{mounted:function(){this.$store.commit(\"setBookingDate\",\"\")},data:function(){return{months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],date:\"0\",month:(new Date).getMonth(),year:(new Date).getFullYear()}},computed:{selected_date:function(){var t=this.year+\"-\"+(this.month+1)+\"-\"+this.date;return this.$store.commit(\"setBookingDate\",t),t},my_label:function(){return this.months[this.month]+\" \"+this.year},date_array:function(){for(var t=new Date(this.year,this.month,1),e=[],a=[],n=0;n<t.getDay();n++)a.push({getDate:function(){return\"\"}});while(t.getMonth()===this.month)a.push(new Date(t)),6==t.getDay()&&(e.push(a),a=[]),t.setDate(t.getDate()+1);return e.push(a),e}},methods:{dateCheck:function(t){var e=this.$store.getters.blockedDates.map(function(t){return t.date});console.log(e);var a=\"\".concat(this.year,\"-\").concat(this.month+1<10?0:\"\").concat(this.month+1,\"-\").concat(t<10?0:\"\").concat(t),n=new Date(a);if(console.log(\"Compare: \".concat(a)),e.includes(a))return!0;var o=n.getDay();if(this.$store.getters.blockedDays.includes(o))return!0;var s=new Date;return s>n},nextMonth:function(){11==this.month?(this.month=0,this.year++):this.month++},previousMonth:function(){0==this.month?(this.month=11,this.year--):this.month--}}}),u=l,h=(a(\"fb53\"),a(\"2877\")),d=Object(h[\"a\"])(u,c,r,!1,null,\"71d5c0bd\",null);d.options.__file=\"calendar.vue\";var g=d.exports,m={components:{calendar:g},data:function(){return{slots:\"\"}},computed:{computedSlots:function(){var t=this;console.log(\"call computed slots\");var e=this.$store.getters.booking.booking_date,a=this.$store.getters.booking.package.package_minutes;console.log(\"date: \"+e+\" duration: \"+a);var n=new FormData;n.append(\"booking_date\",e),n.append(\"package_minutes\",a),i.a.post(\"/_system/php/api/booking/getOpenSlots.php\",n).then(function(e){if(e.data.success)return console.log(e),t.slots=e.data.data,e.data.data;console.error(e)}).catch(function(t){console.log(t)}),console.log(\"test\")}},watch:{computedSlots:function(){console.log(\"watch\"),this.slots=this.computedSlots}}},f=m,_=(a(\"6af5\"),Object(h[\"a\"])(f,n,o,!1,null,\"0618b86f\",null));_.options.__file=\"book-schedule.vue\";e[\"default\"]=_.exports},af3b:function(t,e,a){},bef8:function(t,e,a){},fb53:function(t,e,a){\"use strict\";var n=a(\"af3b\"),o=a.n(n);o.a}}]);","extractedComments":[]}