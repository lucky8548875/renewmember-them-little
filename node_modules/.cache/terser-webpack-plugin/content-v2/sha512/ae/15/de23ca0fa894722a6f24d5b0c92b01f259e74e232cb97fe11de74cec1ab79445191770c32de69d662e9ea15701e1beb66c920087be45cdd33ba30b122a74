{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-32bd15c1\"],{\"2b18\":function(t,e,a){\"use strict\";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"flex column\"},[\"\"!=t.imageUrl&&0==t.uploading?a(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:t.imageUrl}}):t._e(),\"\"==t.imageUrl&&\"\"!=t.url?a(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:t.url}}):t._e(),1==t.uploading?a(\"span\",{staticClass:\"flex align-center\"},[a(\"fa\",{attrs:{icon:\"sync-alt\",spin:\"\"}}),a(\"span\",{staticClass:\"margin-left-small\"},[t._v(\"Please wait\")])],1):t._e(),a(\"input\",{ref:\"fileupload\",staticClass:\"wide\",attrs:{type:\"file\",accept:\"image/x-png,image/gif,image/jpeg\",required:t.required},on:{change:function(e){t.uploadFile()}}})])},i=[],n=a(\"bc3a\"),l=a.n(n),o={props:{url:{type:String,default:\"\"},required:{type:Boolean,default:!1}},data:function(){return{imageUrl:\"\",file:null,uploading:!1}},methods:{uploadFile:function(){var t=this;if(this.uploading=!0,this.file=this.$refs.fileupload.files[0],null!=this.file){var e=new FormData;e.append(\"image\",this.file),l.a.post(\"/_system/php/functions/ftpupload.php\",e,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(e){console.log(e),e.data.success?(t.imageUrl=e.data.data,t.uploading=!1):console.log(\"Error in File Upload\")}).catch(function(t){console.error(t)})}}}},c=o,r=a(\"2877\"),d=Object(r[\"a\"])(c,s,i,!1,null,null,null);d.options.__file=\"fileupload.vue\";var u,m,h=d.exports,f={components:{fileupload:h},data:function(){return{params:{},visible:!1}},methods:{toggle:function(){this.visible=!this.visible},show:function(t){this.visible=!0,this.params=t}}},p=f,g=(a(\"7200\"),Object(r[\"a\"])(p,u,m,!1,null,\"e4d62aa4\",null));g.options.__file=\"modal.vue\";e[\"a\"]=g.exports},3530:function(t,e,a){\"use strict\";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{attrs:{id:\"admin\"}},[a(\"nav\",{staticClass:\"fixed top wide flex justify-space-between padding-x-small shadow z-nav\",staticStyle:{\"min-height\":\"5rem\"}},[a(\"div\",{staticClass:\"flex align-center\"},[a(\"div\",{staticClass:\"menu hide-large center-child\"},[a(\"a\",{staticClass:\"padding inline-block\",attrs:{href:\"#\"},on:{click:function(e){t.$refs.admindrawer.toggle()}}},[a(\"fa\",{attrs:{icon:\"bars\"}})],1)]),t._m(0),a(\"admin-searchbar\",{staticClass:\"margin-right\"}),a(\"ul\",{staticClass:\"links remove-list-style show-large flex center-child-child\"},[a(\"li\",[a(\"router-link\",{staticClass:\"padding\",class:{active:t.$route.path.includes(\"/admin/dashboard\")},attrs:{to:\"/admin/dashboard\"}},[t._v(\"Dashboard\")])],1),a(\"li\",[a(\"router-link\",{staticClass:\"padding\",class:{active:t.$route.path.includes(\"/admin/transactions\")},attrs:{to:\"/admin/transactions\"}},[t._v(\"Transactions\")])],1),a(\"li\",[a(\"router-link\",{staticClass:\"padding\",class:{active:t.$route.path.includes(\"/admin/settings\")},attrs:{to:\"/admin/settings\"}},[t._v(\"Settings\")])],1),a(\"li\",[a(\"router-link\",{staticClass:\"padding\",class:{active:t.$route.path.includes(\"/admin/reports\")},attrs:{to:\"/admin/reports\"}},[t._v(\"Reports\")])],1)])],1),a(\"div\",{staticClass:\"flex center-child\"},[a(\"notification-button\"),a(\"router-link\",{staticClass:\"padding\",attrs:{to:\"/\"}},[a(\"span\",{staticClass:\"margin-right-small hide-small\"},[t._v(\"Exit Console\")]),a(\"fa\",{attrs:{icon:\"sign-out-alt\"}})],1)],1)]),a(\"router-view\")],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"logo show-medium-plus center-child padding-x-medium\"},[a(\"strong\",[t._v(\"Admin Console\")])])}],n=(a(\"cadf\"),a(\"551c\"),a(\"097d\"),a(\"37b7\")),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"admin-searchbar-container\"},[a(\"div\",{staticClass:\"admin-searchbar-query\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.query,expression:\"query\"}],staticClass:\"admin-searchbar-textfield\",attrs:{type:\"text\",placeholder:\"Search...\"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),a(\"i\",{staticClass:\"fas fa-search\"})]),a(\"div\",{staticClass:\"results-dropdown-container card\"},[a(\"ul\",{staticClass:\"admin-searchbar-matchlist\"},[a(\"ul\",{directives:[{name:\"show\",rawName:\"v-show\",value:null!=t.matches.accounts,expression:\"matches.accounts != null\"}],staticClass:\"matchlist-group-container padding\"},[a(\"h3\",{staticClass:\"matchlist-group-heading margin-small margin-left\",staticStyle:{\"font-weight\":\"bold\"}},[t._v(\"Accounts\")]),t._l(t.matches.accounts,function(e){return a(\"li\",{key:e.account_id,staticClass:\"matchlist-item-container padding\",on:{click:function(a){t.viewAccount(e.account_id)}}},[a(\"h4\",{staticClass:\"matchlist-item-text\"},[t._v(\"ID: \"+t._s(e.account_id))]),a(\"h5\",{staticClass:\"matchlist-item-subtext\"},[t._v(t._s(e.account_name))])])})],2),a(\"ul\",{directives:[{name:\"show\",rawName:\"v-show\",value:null!=t.matches.bookings,expression:\"matches.bookings != null\"}],staticClass:\"matchlist-group-container\"},[a(\"h3\",{staticClass:\"matchlist-group-heading margin-small margin-left\",staticStyle:{\"font-weight\":\"bold\"}},[t._v(\"Bookings\")]),t._l(t.matches.bookings,function(e,s){return a(\"li\",{key:e.booking_id,staticClass:\"matchlist-item-container padding\",on:{click:function(a){t.viewBooking(e.booking_id)}}},[a(\"h4\",{staticClass:\"matchlist-item-text\"},[t._v(\"ID: \"+t._s(e.booking_id))]),a(\"h5\",{staticClass:\"matchlist-item-subtext\"},[t._v(t._s(e.account_name)+\" : \"+t._s(e.booking_date))])])})],2)]),a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:0!=t.matches.length,expression:\"matches.length != 0\"}],staticClass:\"see-results-container\",on:{click:function(e){t.toggleSeeAll()}}},[t._v(t._s(t.textForSeeResults))])]),a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showModal,expression:\"showModal\"}],staticClass:\"record-modal-container\"},t._l(t.record,function(e,s){return a(\"div\",{staticClass:\"field-value-container\"},[a(\"label\",{staticClass:\"field-label\",attrs:{for:s}},[t._v(t._s(s)+\":\")]),a(\"input\",{staticClass:\"value-input\",attrs:{id:s,type:\"text\",readonly:\"\"},domProps:{value:e}})])}),0)])},o=[],c=a(\"bc3a\"),r=a.n(c),d={data:function(){return{query:\"\",record:\"\",matches:[],showModal:!1,seeAll:!1,textForSeeResults:\"See all results\"}},methods:{viewAccount:function(t){var e=this;r.a.get(\"/_system/php/api/account/get.php?account_id=\".concat(t)).then(function(t){t.data.success?(e.record=t.data.data,e.showModal=!0):console.error(t.data.message)}).catch(function(t){console.log(t)})},toggleSeeAll:function(){this.seeAll=!this.seeAll,this.seeAll?this.textForSeeResults=\"See limited results...\":this.textForSeeResults=\"See all results...\",this.adminSearch()},adminSearch:function(){var t=this,e=\"adminSearchWithLimit\";this.seeAll&&(e=\"adminSearch\"),r.a.get(\"/_system/php/functions/\".concat(e,\".php?query=\").concat(this.query)).then(function(a){a.data.success?t.matches=a.data.data:(console.error(a.data.message),console.log(\"/_system/php/functions/\".concat(e,\".php?query=\").concat(t.query)))}).catch(function(t){console.error(t)})}},watch:{query:function(){this.query.length>0?this.adminSearch():this.matches=[]}}},u=d,m=(a(\"c459\"),a(\"2877\")),h=Object(m[\"a\"])(u,l,o,!1,null,\"7df1c13e\",null);h.options.__file=\"admin-searchbar.vue\";var f=h.exports,p={components:{\"notification-button\":n[\"a\"],\"admin-searchbar\":f},mounted:function(){console.log(\"calling loadCurrentUser from Admin.vue\"),this.$store.dispatch(\"loadCurrentUser\")}},g=p,v=Object(m[\"a\"])(g,s,i,!1,null,null,null);v.options.__file=\"Admin.vue\";e[\"default\"]=v.exports},\"37b7\":function(t,e,a){\"use strict\";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.$store.getters.isAuthenticated?a(\"div\",[a(\"a\",{staticClass:\"padding\",attrs:{id:\"notification-button\",tabindex:\"1\"}},[a(\"fa\",{attrs:{icon:\"bell\"}}),t.$store.getters.notifications.every(function(t){return 1==t.isRead})?t._e():a(\"div\",{attrs:{id:\"unread\"}},[a(\"span\",[t._v(t._s(t.$store.getters.notifications.filter(function(t){return 0==t.isRead}).length))])]),a(\"div\",{staticClass:\"card flex column\",attrs:{id:\"context\",tabindex:\"1\"}},[a(\"ul\",{staticClass:\"links remove-list-style\"},t._l(t.$store.getters.notifications,function(e){return a(\"div\",[a(\"li\",{class:{\"notification-unread\":!e.isRead}},[a(\"a\",{staticClass:\"padding wide inline-block\",staticStyle:{\"border-radius\":\"0\"},on:{click:function(a){t.$store.dispatch(\"markAsRead\",e.notification_id),t.$refs.notification.show(e)}}},[a(\"strong\",{staticClass:\"padding-bottom-small\"},[t._v(t._s(e.notification_message))]),a(\"h4\",[t._v(t._s(e.created))])])])])}),0)])],1),a(\"modal\",{ref:\"notification\",inlineTemplate:{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"transition\",{attrs:{name:\"fade\"}},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.visible,expression:\"visible\"}],staticClass:\"fixed-fill\",attrs:{id:\"backdrop\"},on:{click:t.toggle}})]),a(\"transition\",{attrs:{name:\"fade\"}},[a(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.visible,expression:\"visible\"}],staticClass:\"card fixed-center-medium-plus flex column five-large seven-medium twelve-small max-high fixed-fill-small\",attrs:{id:\"modal\"}},[a(\"div\",{staticClass:\"flex justify-space-between align-center wide\"},[a(\"h2\",{staticClass:\"padding\"},[t._v(\"Notification\")]),a(\"a\",{staticClass:\"padding\",on:{click:t.toggle}},[a(\"fa\",{attrs:{icon:\"times\"}})],1)]),a(\"hr\"),a(\"div\",{staticClass:\"padding overflow-auto\"},[a(\"h4\",[t._v(t._s(t.params.created))]),a(\"br\"),a(\"span\",[t._v(t._s(t.params.notification_message))])])])])],1)},staticRenderFns:[]}})],1):t._e()},i=[],n=a(\"2b18\"),l={mounted:function(){console.log(\"NBxx: Checking if has userId..\"),null!=this.$store.getters.userId?(console.log(\"Yes, User id is \"+this.$store.getters.userId),console.log(\"calling loadNotifications from mounted() NB\"),this.$store.dispatch(\"loadNotifications\")):console.log(\"Not authenticated as of the moment\")},components:{modal:n[\"a\"]}},o=l,c=(a(\"a618\"),a(\"2877\")),r=Object(c[\"a\"])(o,s,i,!1,null,\"552c251e\",null);r.options.__file=\"notification-button.vue\";e[\"a\"]=r.exports},\"5de7\":function(t,e,a){},7200:function(t,e,a){\"use strict\";var s=a(\"ff30\"),i=a.n(s);i.a},\"8de0\":function(t,e,a){},a618:function(t,e,a){\"use strict\";var s=a(\"5de7\"),i=a.n(s);i.a},c459:function(t,e,a){\"use strict\";var s=a(\"8de0\"),i=a.n(s);i.a},ff30:function(t,e,a){}}]);","extractedComments":[]}