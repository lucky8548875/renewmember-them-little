{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-62f5c31c\"],{\"1f3e\":function(t,a,i){\"use strict\";var e=i(\"4bfa\"),s=i.n(e);s.a},\"2b18\":function(t,a,i){\"use strict\";var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i(\"div\",{staticClass:\"flex column\"},[\"\"!=t.imageUrl&&0==t.uploading?i(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:t.imageUrl}}):t._e(),\"\"==t.imageUrl&&\"\"!=t.url?i(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:t.url}}):t._e(),1==t.uploading?i(\"span\",{staticClass:\"flex align-center\"},[i(\"fa\",{attrs:{icon:\"sync-alt\",spin:\"\"}}),i(\"span\",{staticClass:\"margin-left-small\"},[t._v(\"Please wait\")])],1):t._e(),i(\"input\",{ref:\"fileupload\",staticClass:\"wide\",attrs:{type:\"file\",accept:\"image/x-png,image/gif,image/jpeg\",required:t.required},on:{change:function(a){t.uploadFile()}}})])},s=[],n=i(\"bc3a\"),o=i.n(n),l={props:{url:{type:String,default:\"\"},required:{type:Boolean,default:!1}},data:function(){return{imageUrl:\"\",file:null,uploading:!1}},methods:{uploadFile:function(){var t=this;if(this.uploading=!0,this.file=this.$refs.fileupload.files[0],null!=this.file){var a=new FormData;a.append(\"image\",this.file),o.a.post(\"/_system/php/functions/ftpupload.php\",a,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(a){console.log(a),a.data.success?(t.imageUrl=a.data.data,t.uploading=!1):console.log(\"Error in File Upload\")}).catch(function(t){console.error(t)})}}}},r=l,c=i(\"2877\"),d=Object(c[\"a\"])(r,e,s,!1,null,null,null);d.options.__file=\"fileupload.vue\";var u,f,v=d.exports,p={components:{fileupload:v},data:function(){return{params:{},visible:!1}},methods:{toggle:function(){this.visible=!this.visible},show:function(t){this.visible=!0,this.params=t}}},g=p,_=(i(\"7200\"),Object(c[\"a\"])(g,u,f,!1,null,\"e4d62aa4\",null));_.options.__file=\"modal.vue\";a[\"a\"]=_.exports},\"43a5\":function(t,a,i){\"use strict\";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i(\"div\",{staticClass:\"padding\"},[i(\"div\",{staticClass:\"flex wide justify-space-between\"},[t._m(0),i(\"div\",[i(\"a\",{staticClass:\"padding\",class:{active:\"all\"==t.active},on:{click:function(a){t.active=\"all\"}}},[t._v(\"Bookings\")]),i(\"a\",{staticClass:\"padding\",class:{active:\"paid\"==t.active},on:{click:function(a){t.active=\"paid\"}}},[t._v(\"Paid\")]),i(\"a\",{staticClass:\"padding\",class:{active:\"overdue\"==t.active},on:{click:function(a){t.active=\"overdue\"}}},[t._v(\"Overdue\")])])]),i(\"table\",{staticClass:\"wide\"},t._l(t.filteredBookings,function(a){return i(\"tr\",[i(\"td\",[i(\"h3\",[t._v(t._s(a.account_name))]),i(\"h5\",[t._v(t._s(a.booking_status))])]),i(\"td\",[i(\"button\",{staticClass:\"float-right\",on:{click:function(i){t.$refs.booking.show(a)}}},[t._v(\"View\")])])])}),0),i(\"modal\",{ref:\"booking\",inlineTemplate:{render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i(\"div\",[i(\"transition\",{attrs:{name:\"fade\"}},[i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.visible,expression:\"visible\"}],staticClass:\"fixed-fill\",attrs:{id:\"backdrop\"},on:{click:t.toggle}})]),i(\"transition\",{attrs:{name:\"fade\"}},[i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.visible,expression:\"visible\"}],staticClass:\"card fixed-center flex column five-large seven-medium twelve-small max-high\",attrs:{id:\"modal\"}},[i(\"div\",{staticClass:\"flex justify-space-between align-center wide\"},[i(\"h2\",{staticClass:\"padding\"},[t._v(\"Booking Details\")]),i(\"a\",{staticClass:\"padding\",on:{click:t.toggle}},[i(\"fa\",{attrs:{icon:\"times\"}})],1)]),i(\"hr\"),i(\"div\",{staticClass:\"padding overflow-auto\"},[i(\"table\",{staticClass:\"wide\"},[i(\"tr\",[i(\"td\",[t._v(\"Booked on\")]),i(\"td\",[t._v(t._s(t.params.booking_created))])]),i(\"tr\",[i(\"td\",[t._v(\"Schedule\")]),i(\"td\",[t._v(t._s(t.params.booking_date)+\", \"+t._s(t.params.booking_time))])]),i(\"tr\",[i(\"td\",[t._v(\"Status\")]),i(\"td\",[t._v(t._s(t.params.booking_status))])]),i(\"tr\",[i(\"td\",[t._v(\"Deposit Slip\")]),i(\"td\",[i(\"img\",{attrs:{src:t.params.booking_deposit_slip}})])])]),i(\"div\",{staticClass:\"flex wide\"},[\"COMPLETED\"!=t.params.booking_status?i(\"button\",{staticClass:\"flex-growBooking\",on:{click:function(a){t.$store.dispatch(\"cancelBooking\",t.params.booking_id),t.visible=!1}}},[t._v(\"Cancel Booking\")]):t._e(),\"COMPLETED\"!=t.params.booking_status?i(\"button\",{staticClass:\"flex-grow margin-left-small\"},[t._v(\"Reschedule\")]):t._e(),\"AWAITING_CONFIRMATION\"==t.params.booking_status||\"AWAITING_PAYMENT\"==t.params.booking_status?i(\"button\",{staticClass:\"flex-grow margin-left-small primary\",on:{click:function(a){t.$store.dispatch(\"approveBooking\",t.params.booking_id),t.visible=!1}}},[t._v(\"Approve Booking\")]):t._e(),\"BOOKED\"==t.params.booking_status?i(\"button\",{staticClass:\"flex-grow margin-left-small primary\",on:{click:function(a){t.$store.dispatch(\"markAsCompleted\",t.params.booking_id),t.visible=!1}}},[t._v(\"Mark as Done\")]):t._e()]),i(\"form\",{staticClass:\"margin-top\"},[i(\"fieldset\",[i(\"details\",[i(\"summary\",[t._v(\"Package Details\")]),i(\"br\"),i(\"table\",{staticClass:\"wide\"},[i(\"tr\",[i(\"td\",[t._v(\"Package Name\")]),i(\"td\",[t._v(\"Fake Package 1\")])]),i(\"tr\",[i(\"td\",[t._v(\"Package Description\")]),i(\"td\",[t._v(\"Fake Description\")])]),i(\"tr\",[i(\"td\",[t._v(\"Duration\")]),i(\"td\",[t._v(\"30 fakes\")])]),i(\"tr\",[i(\"td\",[t._v(\"Addons\")]),i(\"td\")]),i(\"tr\",[i(\"td\",[t._v(\"Themes\")]),i(\"td\")]),i(\"tr\",[i(\"td\",[t._v(\"Total Price\")]),i(\"td\",[t._v(\"Php 00.00\")])])])])])])])])])],1)},staticRenderFns:[]}})],1)},s=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i(\"div\",[i(\"h2\",[t._v(\"Bookings\")])])}],n=i(\"2b18\"),o=i(\"f9d7\"),l={components:{modal:n[\"a\"],switcher:o[\"a\"]},mounted:function(){this.$store.dispatch(\"getAllBookings\")},data:function(){return{active:\"all\"}},computed:{filteredBookings:function(){var t=this.$store.getters.allBookings;return\"all\"==this.active?t:\"paid\"==this.active?t.filter(function(t){return\"AWAITING_CONFIRMATION\"==t.booking_status}):\"overdue\"==this.active?t.filter(function(t){if(\"AWAITING_PAYMENT\"!=t.booking_status)return!1;var a=new Date(t.booking_created),i=new Date,e=i-a,s=e/36e5;return s>24}):void 0}}},r=l,c=i(\"2877\"),d=Object(c[\"a\"])(r,e,s,!1,null,null,null);d.options.__file=\"admin-bookings.vue\";a[\"default\"]=d.exports},\"4bfa\":function(t,a,i){},7200:function(t,a,i){\"use strict\";var e=i(\"ff30\"),s=i.n(e);s.a},f9d7:function(t,a,i){\"use strict\";var e,s,n={data:function(){return{active:\"\"}}},o=n,l=(i(\"1f3e\"),i(\"2877\")),r=Object(l[\"a\"])(o,e,s,!1,null,\"7c25a286\",null);r.options.__file=\"switcher.vue\";a[\"a\"]=r.exports},ff30:function(t,a,i){}}]);","extractedComments":[]}