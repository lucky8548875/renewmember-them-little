{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-32a44950\"],{\"2b18\":function(t,e,s){\"use strict\";s(\"cadf\"),s(\"551c\"),s(\"097d\");var a,i,n={props:[\"steps\"],data:function(){return{step:1}},methods:{next:function(){this.step<this.steps&&this.step++},previous:function(){this.step>1&&this.step--}}},l=n,o=s(\"2877\"),c=Object(o[\"a\"])(l,a,i,!1,null,null,null);c.options.__file=\"stepper.vue\";var r=c.exports,d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"flex column\"},[\"\"!=t.imageUrl&&0==t.uploading?s(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:t.imageUrl}}):t._e(),\"\"==t.imageUrl&&\"\"!=t.url?s(\"img\",{staticStyle:{width:\"50%\"},attrs:{src:t.url}}):t._e(),1==t.uploading?s(\"span\",{staticClass:\"flex align-center\"},[s(\"fa\",{attrs:{icon:\"sync-alt\",spin:\"\"}}),s(\"span\",{staticClass:\"margin-left-small\"},[t._v(\"Please wait\")])],1):t._e(),s(\"input\",{ref:\"fileupload\",staticClass:\"wide\",attrs:{type:\"file\",accept:\"image/x-png,image/gif,image/jpeg\",required:t.required},on:{change:function(e){t.uploadFile()}}})])},u=[],h=s(\"bc3a\"),m=s.n(h),p={props:{url:{type:String,default:\"\"},required:{type:Boolean,default:!1}},data:function(){return{imageUrl:\"\",file:null,uploading:!1}},methods:{uploadFile:function(){var t=this;if(this.uploading=!0,this.file=this.$refs.fileupload.files[0],null!=this.file){var e=new FormData;e.append(\"image\",this.file),m.a.post(\"/_system/php/functions/ftpupload.php\",e,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(e){console.log(e),e.data.success?(t.imageUrl=e.data.data,t.uploading=!1,t.$emit(\"saveUrl\",e.data.data)):console.log(\"Error in File Upload\")}).catch(function(t){console.error(t)})}}}},f=p,g=Object(o[\"a\"])(f,d,u,!1,null,null,null);g.options.__file=\"fileupload.vue\";var v,_,b=g.exports,C={components:{fileupload:b,stepper:r},data:function(){return{params:{},visible:!1}},methods:{toggle:function(){this.visible=!this.visible},show:function(t){this.visible=!0,this.params=t}}},w=C,x=(s(\"371d\"),Object(o[\"a\"])(w,v,_,!1,null,\"4da6ce68\",null));x.options.__file=\"modal.vue\";e[\"a\"]=x.exports},3530:function(t,e,s){\"use strict\";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{attrs:{id:\"admin\"}},[s(\"nav\",{staticClass:\"fixed top wide flex justify-space-between padding-x-small shadow z-nav\",staticStyle:{\"min-height\":\"5rem\"}},[s(\"div\",{staticClass:\"flex align-center\"},[s(\"div\",{staticClass:\"menu hide-large center-child\"},[s(\"a\",{staticClass:\"padding inline-block\",attrs:{href:\"#\"},on:{click:function(e){t.$refs.admindrawer.toggle()}}},[s(\"fa\",{attrs:{icon:\"bars\"}})],1)]),t._m(0),s(\"admin-searchbar\",{staticClass:\"margin-right\"}),s(\"ul\",{staticClass:\"links remove-list-style show-large flex center-child-child\"},[s(\"li\",[s(\"router-link\",{staticClass:\"special padding\",class:{active:t.$route.path.includes(\"/admin/dashboard\")},attrs:{to:\"/admin/dashboard\"}},[t._v(\"Dashboard\")])],1),s(\"li\",[s(\"router-link\",{staticClass:\"special padding\",class:{active:t.$route.path.includes(\"/admin/transactions\")},attrs:{to:\"/admin/transactions\"}},[t._v(\"Transactions\")])],1),s(\"li\",[s(\"router-link\",{staticClass:\"special padding\",class:{active:t.$route.path.includes(\"/admin/settings\")},attrs:{to:\"/admin/settings\"}},[t._v(\"Settings\")])],1),s(\"li\",[s(\"router-link\",{staticClass:\"special padding\",class:{active:t.$route.path.includes(\"/admin/reports\")},attrs:{to:\"/admin/reports\"}},[t._v(\"Reports\")])],1)])],1),s(\"div\",{staticClass:\"flex center-child\"},[s(\"router-link\",{staticClass:\"padding\",attrs:{to:\"/\"}},[s(\"span\",{staticClass:\"margin-right-small hide-small\"},[t._v(\"Exit Console\")]),s(\"fa\",{attrs:{icon:\"sign-out-alt\"}})],1)],1)]),s(\"router-view\")],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"logo show-medium-plus center-child padding-x-medium\"},[s(\"strong\",[t._v(\"Admin Console\")])])}],n=s(\"37b7\"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",{staticClass:\"admin-searchbar-container\"},[s(\"div\",{staticClass:\"admin-searchbar-query\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.query,expression:\"query\"}],staticClass:\"admin-searchbar-textfield\",attrs:{type:\"text\",placeholder:\"Search...\"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),s(\"i\",{staticClass:\"fas fa-search\"})]),s(\"div\",{staticClass:\"results-dropdown-container card\"},[s(\"ul\",{staticClass:\"admin-searchbar-matchlist\"},[s(\"ul\",{directives:[{name:\"show\",rawName:\"v-show\",value:null!=t.matches.accounts,expression:\"matches.accounts != null\"}],staticClass:\"matchlist-group-container padding\"},[s(\"h3\",{staticClass:\"matchlist-group-heading margin-small margin-left\",staticStyle:{\"font-weight\":\"bold\"}},[t._v(\"Accounts\")]),t._l(t.matches.accounts,function(e){return s(\"li\",{key:e.account_id,staticClass:\"matchlist-item-container padding\",on:{click:function(s){t.viewAccount(e.account_id)}}},[s(\"h4\",{staticClass:\"matchlist-item-text\"},[t._v(\"ID: \"+t._s(e.account_id))]),s(\"h5\",{staticClass:\"matchlist-item-subtext\"},[t._v(t._s(e.account_name))])])})],2),s(\"ul\",{directives:[{name:\"show\",rawName:\"v-show\",value:null!=t.matches.bookings,expression:\"matches.bookings != null\"}],staticClass:\"matchlist-group-container\"},[s(\"h3\",{staticClass:\"matchlist-group-heading margin-small margin-left\",staticStyle:{\"font-weight\":\"bold\"}},[t._v(\"Bookings\")]),t._l(t.matches.bookings,function(e,a){return s(\"li\",{key:e.booking_id,staticClass:\"matchlist-item-container padding\",on:{click:function(s){t.viewBooking(e.booking_id)}}},[s(\"h4\",{staticClass:\"matchlist-item-text\"},[t._v(\"ID: \"+t._s(e.booking_id))]),s(\"h5\",{staticClass:\"matchlist-item-subtext\"},[t._v(t._s(e.account_name)+\" : \"+t._s(e.booking_date))])])})],2)]),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:0!=t.matches.length,expression:\"matches.length != 0\"}],staticClass:\"see-results-container\",on:{click:function(e){t.toggleSeeAll()}}},[t._v(t._s(t.textForSeeResults))])]),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showModal,expression:\"showModal\"}],staticClass:\"record-modal-container\"},t._l(t.record,function(e,a){return s(\"div\",{staticClass:\"field-value-container\"},[s(\"label\",{staticClass:\"field-label\",attrs:{for:a}},[t._v(t._s(a)+\":\")]),s(\"input\",{staticClass:\"value-input\",attrs:{id:a,type:\"text\",readonly:\"\"},domProps:{value:e}})])}),0)])},o=[],c=s(\"bc3a\"),r=s.n(c),d={data:function(){return{query:\"\",record:\"\",matches:[],showModal:!1,seeAll:!1,textForSeeResults:\"See all results\"}},methods:{viewAccount:function(t){var e=this;r.a.get(\"/_system/php/api/account/get.php?account_id=\".concat(t)).then(function(t){t.data.success?(e.record=t.data.data,e.showModal=!0):console.error(t.data.message)}).catch(function(t){console.log(t)})},toggleSeeAll:function(){this.seeAll=!this.seeAll,this.seeAll?this.textForSeeResults=\"See limited results...\":this.textForSeeResults=\"See all results...\",this.adminSearch()},adminSearch:function(){var t=this,e=\"adminSearchWithLimit\";this.seeAll&&(e=\"adminSearch\"),r.a.get(\"/_system/php/functions/\".concat(e,\".php?query=\").concat(this.query)).then(function(s){s.data.success?t.matches=s.data.data:(console.error(s.data.message),console.log(\"/_system/php/functions/\".concat(e,\".php?query=\").concat(t.query)))}).catch(function(t){console.error(t)})}},watch:{query:function(){this.query.length>0?this.adminSearch():this.matches=[]}}},u=d,h=(s(\"c459\"),s(\"2877\")),m=Object(h[\"a\"])(u,l,o,!1,null,\"7df1c13e\",null);m.options.__file=\"admin-searchbar.vue\";var p=m.exports,f={components:{\"notification-button\":n[\"a\"],\"admin-searchbar\":p},mounted:function(){console.log(\"calling loadCurrentUser from Admin.vue\"),this.$store.dispatch(\"loadCurrentUser\")}},g=f,v=Object(h[\"a\"])(g,a,i,!1,null,null,null);v.options.__file=\"Admin.vue\";e[\"default\"]=v.exports},\"371d\":function(t,e,s){\"use strict\";var a=s(\"d1e8\"),i=s.n(a);i.a},\"37b7\":function(t,e,s){\"use strict\";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.$store.getters.isAuthenticated?s(\"div\",[s(\"a\",{staticClass:\"padding\",attrs:{id:\"notification-button\",tabindex:\"1\"}},[s(\"fa\",{attrs:{icon:\"bell\"}}),t.$store.getters.notifications.every(function(t){return 1==t.isRead})?t._e():s(\"div\",{attrs:{id:\"unread\"}},[s(\"span\",[t._v(t._s(t.$store.getters.notifications.filter(function(t){return 0==t.isRead}).length))])]),s(\"div\",{staticClass:\"card flex column\",attrs:{id:\"context\",tabindex:\"1\"}},[s(\"ul\",{staticClass:\"links remove-list-style\"},t._l(t.$store.getters.notifications,function(e){return s(\"div\",[s(\"li\",{class:{\"notification-unread\":!e.isRead}},[s(\"a\",{staticClass:\"padding wide inline-block\",staticStyle:{\"border-radius\":\"0\"},on:{click:function(s){t.$store.dispatch(\"markAsRead\",e.notification_id),t.$refs.notification.show(e)}}},[s(\"strong\",{staticClass:\"padding-bottom-small\"},[t._v(t._s(e.notification_message))]),s(\"h4\",[t._v(t._s(e.created))])])])])}),0)])],1),s(\"modal\",{ref:\"notification\",inlineTemplate:{render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",[s(\"transition\",{attrs:{name:\"fade\"}},[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.visible,expression:\"visible\"}],staticClass:\"fixed-fill\",attrs:{id:\"backdrop\"},on:{click:t.toggle}})]),s(\"transition\",{attrs:{name:\"fade\"}},[s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.visible,expression:\"visible\"}],staticClass:\"card fixed-center-medium-plus flex column five-large seven-medium twelve-small max-high fixed-fill-small\",attrs:{id:\"modal\"}},[s(\"div\",{staticClass:\"flex justify-space-between align-center wide\"},[s(\"h2\",{staticClass:\"padding\"},[t._v(\"Notification\")]),s(\"a\",{staticClass:\"padding\",on:{click:t.toggle}},[s(\"fa\",{attrs:{icon:\"times\"}})],1)]),s(\"hr\"),s(\"div\",{staticClass:\"padding overflow-auto\"},[s(\"h4\",[t._v(t._s(t.params.created))]),s(\"br\"),s(\"span\",[t._v(t._s(t.params.notification_message))])])])])],1)},staticRenderFns:[]}})],1):t._e()},i=[],n=(s(\"cadf\"),s(\"551c\"),s(\"097d\"),s(\"2b18\")),l={mounted:function(){console.log(\"NBxx: Checking if has userId..\"),null!=this.$store.getters.userId?(console.log(\"Yes, User id is \"+this.$store.getters.userId),console.log(\"calling loadNotifications from mounted() NB\"),this.$store.dispatch(\"loadNotifications\")):console.log(\"Not authenticated as of the moment\")},components:{modal:n[\"a\"]}},o=l,c=(s(\"a618\"),s(\"2877\")),r=Object(c[\"a\"])(o,a,i,!1,null,\"552c251e\",null);r.options.__file=\"notification-button.vue\";e[\"a\"]=r.exports},\"5de7\":function(t,e,s){},\"8de0\":function(t,e,s){},a618:function(t,e,s){\"use strict\";var a=s(\"5de7\"),i=s.n(a);i.a},c459:function(t,e,s){\"use strict\";var a=s(\"8de0\"),i=s.n(a);i.a},d1e8:function(t,e,s){}}]);","extractedComments":[]}